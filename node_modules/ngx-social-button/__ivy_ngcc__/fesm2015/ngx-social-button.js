import { Injectable, Component, Input, Output, EventEmitter, Inject, ViewChild, NgModule, defineInjectable, inject } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
import { DOCUMENT } from '@angular/common';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @abstract
 */
import * as Éµngcc0 from '@angular/core';

const _c0 = ["element"];
class BaseLoginProviderImpl {
    constructor() { }
    /**
     * @param {?} obj
     * @param {?} onload
     * @return {?}
     */
    loadScript(obj, onload) {
        if (document.getElementById(obj.name)) {
            return;
        }
        /** @type {?} */
        let signInJS = document.createElement('script');
        signInJS.async = true;
        signInJS.src = obj.url;
        signInJS.onload = onload;
        if (obj.name === 'linkedin') {
            signInJS.async = false;
            signInJS.text = ('api_key: ' + obj.id).replace('\'', '');
        }
        document.head.appendChild(signInJS);
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class SocialUser {
}
class LoginProviderClass {
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class FacebookLoginProvider extends BaseLoginProviderImpl {
    /**
     * @param {?} clientId
     */
    constructor(clientId) {
        super();
        this.clientId = clientId;
        this.TYPE = 'facebook';
        this.loginProviderObj = new LoginProviderClass();
        this.loginProviderObj.id = clientId;
        this.loginProviderObj.name = 'facebook';
        this.loginProviderObj.url = 'https://connect.facebook.net/en_US/sdk.js';
    }
    /**
     * @return {?}
     */
    initialize() {
        return new Promise((resolve, reject) => {
            this.loadScript(this.loginProviderObj, () => {
                FB.init({
                    appId: this.clientId,
                    autoLogAppEvents: true,
                    cookie: true,
                    xfbml: true,
                    version: 'v2.8'
                });
                FB.AppEvents.logPageView();
                FB.getLoginStatus(function (response) {
                    if (response.status === 'connected') {
                        /** @type {?} */
                        const accessToken = FB.getAuthResponse()['accessToken'];
                        FB.api('/me?fields=name,email,picture', (res) => {
                            resolve(FacebookLoginProvider.drawUser(Object.assign({}, { token: accessToken }, res)));
                        });
                    }
                });
            });
        });
    }
    /**
     * @param {?} response
     * @return {?}
     */
    static drawUser(response) {
        /** @type {?} */
        let user = new SocialUser();
        user.id = response.id;
        user.name = response.name;
        user.email = response.email;
        user.accessToken = response.accessToken;
        user.image = 'https://graph.facebook.com/' + response.id + '/picture?type=normal';
        return user;
    }
    /**
     * @param {?=} scopes
     * @return {?}
     */
    signIn(scopes) {
        return new Promise((resolve, reject) => {
            FB.login((response) => {
                console.log("facebook", response);
                if (response.authResponse) {
                    /** @type {?} */
                    const accessToken = FB.getAuthResponse()['accessToken'];
                    FB.api('/me?fields=name,email,picture', (res) => {
                        console.log("me", res);
                        resolve(FacebookLoginProvider.drawUser(Object.assign({}, { accessToken: accessToken }, res)));
                    });
                }
            }, { scope: scopes && scopes.length > 0 ? scopes.join(',') : 'email,public_profile' });
        });
    }
    /**
     * @param {?=} share
     * @return {?}
     */
    sharing(share) {
        return new Promise((resolve, reject) => {
            FB.ui({
                method: 'share',
                href: share.href,
                hashtag: (share.hashtag && share.hashtag.indexOf('#') >= 0) ? share.hashtag : null
            }, function (response) {
                console.log(response);
                resolve();
            });
        });
    }
    /**
     * @return {?}
     */
    signOut() {
        return new Promise((resolve, reject) => {
            FB.logout((response) => {
                resolve();
            });
        });
    }
}
FacebookLoginProvider.PROVIDER_TYPE = 'facebook';
FacebookLoginProvider.SCOPES = {
    EMAIL: 'email',
    PUBLIC_PROFILE: 'public_profile'
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class GoogleLoginProvider extends BaseLoginProviderImpl {
    /**
     * @param {?} clientId
     */
    constructor(clientId) {
        super();
        this.clientId = clientId;
        this.loginProviderObj = new LoginProviderClass();
        this.TYPE = 'google';
        this.loginProviderObj.id = clientId;
        this.loginProviderObj.name = 'google';
        this.loginProviderObj.url = 'https://apis.google.com/js/platform.js';
    }
    /**
     * @return {?}
     */
    initialize() {
        return new Promise((resolve, reject) => {
            this.loadScript(this.loginProviderObj, () => {
                gapi.load('auth2', () => {
                    this.auth2 = gapi.auth2.init({
                        client_id: this.clientId,
                        scope: 'email'
                    });
                    this.auth2.then(() => {
                        if (this.auth2.isSignedIn.get()) {
                            resolve(this.drawUser());
                        }
                    });
                });
            });
        });
    }
    /**
     * @return {?}
     */
    drawUser() {
        /** @type {?} */
        const user = new SocialUser();
        /** @type {?} */
        const profile = this.auth2.currentUser.get().getBasicProfile();
        /** @type {?} */
        const authResponseObj = this.auth2.currentUser.get().getAuthResponse(true);
        user.id = profile.getId();
        user.name = profile.getName();
        user.email = profile.getEmail();
        user.image = profile.getImageUrl();
        user.accessToken = authResponseObj.access_token;
        user.idToken = authResponseObj.id_token;
        return user;
    }
    /**
     * @param {?=} scopes
     * @return {?}
     */
    signIn(scopes) {
        return new Promise((resolve, reject) => {
            /** @type {?} */
            const promise = this.auth2.signIn();
            promise.then(() => {
                resolve(this.drawUser());
            }).catch((err) => {
                reject(err);
            });
        });
    }
    /**
     * @return {?}
     */
    signOut() {
        return new Promise((resolve, reject) => {
            this.auth2.signOut().then((err) => {
                if (err) {
                    reject(err);
                }
                else {
                    resolve();
                }
            });
        });
    }
    /**
     * @param {?=} share
     * @return {?}
     */
    sharing(share) {
        return new Promise((resolve, reject) => {
            resolve();
        });
    }
}
GoogleLoginProvider.PROVIDER_TYPE = 'google';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class LinkedinLoginProvider extends BaseLoginProviderImpl {
    /**
     * @param {?} clientId
     */
    constructor(clientId) {
        super();
        this.clientId = clientId;
        this.loginProviderObj = new LoginProviderClass();
        this.TYPE = 'linkedin';
        this.loginProviderObj.id = clientId;
        this.loginProviderObj.name = 'linkedin';
        this.loginProviderObj.url = 'https://platform.linkedin.com/in.js';
    }
    /**
     * @return {?}
     */
    initialize() {
        return new Promise((resolve, reject) => {
            this.loadScript(this.loginProviderObj, () => {
                IN.init({
                    api_key: this.clientId,
                    authorize: true,
                    onLoad: this.onLinkedInLoad()
                });
                IN.Event.on(IN, 'auth', () => {
                    if (IN.User.isAuthorized()) {
                        IN.API.Raw('/people/~:(id,first-name,last-name,email-address,picture-url)').result((res) => {
                            resolve(this.drawUser(res));
                        });
                    }
                });
            });
        });
    }
    /**
     * @return {?}
     */
    onLinkedInLoad() {
        IN.Event.on(IN, 'systemReady', () => {
            IN.User.refresh();
        });
    }
    /**
     * @param {?} response
     * @return {?}
     */
    drawUser(response) {
        /** @type {?} */
        const user = new SocialUser();
        user.id = response.id;
        user.name = response.firstName + ' ' + response.lastName;
        user.email = response.emailAddress;
        user.image = response.pictureUrl;
        user.accessToken = IN.ENV.auth.oauth_token;
        return user;
    }
    /**
     * @return {?}
     */
    signIn() {
        return new Promise((resolve, reject) => {
            IN.User.authorize(() => {
                IN.API.Raw('/people/~:(id,first-name,last-name,email-address,picture-url)').result((res) => {
                    console.log('linkedin', res);
                    resolve(this.drawUser(res));
                });
            });
        });
    }
    /**
     * @return {?}
     */
    signOut() {
        return new Promise((resolve, reject) => {
            IN.User.logout((response) => {
                resolve();
            }, (err) => {
                reject(err);
            });
        });
    }
    /**
     * @param {?=} share
     * @return {?}
     */
    sharing(share) {
        return new Promise((resolve, reject) => {
            /** @type {?} */
            const payload = {
                'comment': share ? share.comment : '',
                'visibility': {
                    'code': 'anyone'
                }
            };
            IN.API.Raw('/people/~/shares?format=json')
                .method('POST')
                .body(JSON.stringify(payload))
                .result(data => {
                console.log('linkedin share', data);
                resolve();
            })
                .error(onError => {
                console.log('linkedin', onError);
            });
        });
    }
}
LinkedinLoginProvider.PROVIDER_TYPE = 'linkedin';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class SocialServiceConfig {
    /**
     * @param {?=} providers
     */
    constructor(providers) {
        this.providers = new Map();
        if (providers) {
            for (let i = 0; i < providers.length; i++) {
                /** @type {?} */
                const element = providers[i];
                this.providers.set(element.provider.TYPE, element.provider);
            }
        }
    }
    /**
     * @return {?}
     */
    getProviders() {
        return this.providers;
    }
    /**
     * @param {?} provider
     * @return {?}
     */
    addProvider(provider) {
        if (!this.providers.get(provider.TYPE)) {
            this.providers.set(provider.TYPE, provider);
        }
    }
    /**
     * @param {?} clientId
     * @return {?}
     */
    addFacebook(clientId) {
        this.addProvider(new FacebookLoginProvider(clientId));
        return this;
    }
    /**
     * @param {?} clientId
     * @return {?}
     */
    addGoogle(clientId) {
        this.addProvider(new GoogleLoginProvider(clientId));
        return this;
    }
    /**
     * @param {?} clientId
     * @return {?}
     */
    addLinkedIn(clientId) {
        this.addProvider(new LinkedinLoginProvider(clientId));
        return this;
    }
}
class SocialService {
    /**
     * @param {?} config
     */
    constructor(config) {
        this._user = null;
        this._authState = new BehaviorSubject(null);
        this.providers = config.getProviders();
        this.providers.forEach((provider, key) => {
            provider.initialize().then((user) => {
                user.provider = key;
                this._user = user;
                this._authState.next(user);
            }).catch((err) => {
                // this._authState.next(null);
            });
        });
    }
    /**
     * @return {?}
     */
    get authState() {
        return this._authState.asObservable();
    }
    /**
     * @return {?}
     */
    isSocialLoggedIn() {
        return (this._user != null);
    }
    /**
     * @param {?} providerType
     * @param {?=} share
     * @return {?}
     */
    sharing(providerType, share) {
        return new Promise((resolve, reject) => {
            /** @type {?} */
            let providerObject = this.providers.get(providerType);
            if (providerObject) {
                providerObject.sharing(share).then(() => {
                    resolve(true);
                });
            }
            else {
                reject(SocialService.LOGIN_PROVIDER_NOT_FOUND);
            }
        });
    }
    /**
     * @param {?=} share
     * @return {?}
     */
    facebookSharing(share) {
        return this.sharing('facebook', share);
    }
    /**
     * @param {?} providerType
     * @param {?=} scopes
     * @return {?}
     */
    signIn(providerType, scopes) {
        return new Promise((resolve, reject) => {
            /** @type {?} */
            let providerObject = this.providers.get(providerType);
            if (providerObject) {
                providerObject.signIn(scopes).then((user) => {
                    user.provider = providerType;
                    resolve(user);
                    this._user = user;
                    this._authState.next(user);
                }).catch((err) => {
                    reject(SocialService.USER_POPUP_CLOSE);
                });
            }
            else {
                reject(SocialService.LOGIN_PROVIDER_NOT_FOUND);
            }
        });
    }
    /**
     * @return {?}
     */
    signOut() {
        return new Promise((resolve, reject) => {
            if (this._user && this._user.provider) {
                /** @type {?} */
                let providerType = this._user.provider;
                /** @type {?} */
                let providerObject = this.providers.get(providerType);
                providerObject.signOut().then(() => {
                    this._user = null;
                    this._authState.next(null);
                    resolve();
                }).catch((err) => {
                    this._authState.next(null);
                });
            }
            else {
                reject(SocialService.LOGIN_PROVIDER_NOT_FOUND);
            }
        });
    }
}
SocialService.Éµfac = function SocialService_Factory(t) { return new (t || SocialService)(Éµngcc0.ÉµÉµinject(SocialServiceConfig)); };
SocialService.Éµprov = Éµngcc0.ÉµÉµdefineInjectable({ token: SocialService, factory: SocialService.Éµfac, providedIn: 'root' });
SocialService.LOGIN_PROVIDER_NOT_FOUND = 'Login provider not found';
SocialService.USER_POPUP_CLOSE = 'User close the popup';
/** @nocollapse */
SocialService.ctorParameters = () => [
    { type: SocialServiceConfig }
];
/** @nocollapse */ SocialService.ngInjectableDef = defineInjectable({ factory: function SocialService_Factory() { return new SocialService(inject(SocialServiceConfig)); }, token: SocialService, providedIn: "root" });
/*@__PURE__*/ (function () { Éµngcc0.ÉµsetClassMetadata(SocialService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: SocialServiceConfig }]; }, null); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class FacebookLoginButton {
    /**
     * @param {?} socialAuthService
     */
    constructor(socialAuthService) {
        this.socialAuthService = socialAuthService;
        this.socialUser = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    socialSignIn() {
        this.socialAuthService.signIn('facebook', this.scopes).then((userData) => {
            console.log("socialSignIn", userData);
            this.socialUser.emit(userData);
        }).catch(() => {
            this.socialUser.emit(null);
        });
    }
}
FacebookLoginButton.Éµfac = function FacebookLoginButton_Factory(t) { return new (t || FacebookLoginButton)(Éµngcc0.ÉµÉµdirectiveInject(SocialService)); };
FacebookLoginButton.Éµcmp = Éµngcc0.ÉµÉµdefineComponent({ type: FacebookLoginButton, selectors: [["facebook-login-button"]], inputs: { size: "size", text: "text", style: "style", scopes: "scopes" }, outputs: { socialUser: "socialUser" }, decls: 2, vars: 2, consts: [["type", "button", 3, "className", "click"]], template: function FacebookLoginButton_Template(rf, ctx) { if (rf & 1) {
        Éµngcc0.ÉµÉµelementStart(0, "button", 0);
        Éµngcc0.ÉµÉµlistener("click", function FacebookLoginButton_Template_button_click_0_listener() { return ctx.socialSignIn(); });
        Éµngcc0.ÉµÉµtext(1);
        Éµngcc0.ÉµÉµelementEnd();
    } if (rf & 2) {
        Éµngcc0.ÉµÉµproperty("className", ctx.style == "round" ? "social-btn facebook " : "button btn-block loginBtn --facebook ");
        Éµngcc0.ÉµÉµadvance(1);
        Éµngcc0.ÉµÉµtextInterpolate1(" ", ctx.style == "round" ? "" : ctx.text ? ctx.text : "Login with Facebook", "");
    } }, styles: [".button[_ngcontent-%COMP%]{font-family:Lato,\"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn[_ngcontent-%COMP%]:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn[_ngcontent-%COMP%]:focus{outline:0}.loginBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn[_ngcontent-%COMP%]:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn[_ngcontent-%COMP%]:focus{outline:0}.shareBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook[_ngcontent-%COMP%]{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook[_ngcontent-%COMP%]:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook[_ngcontent-%COMP%]:focus, .--facebook[_ngcontent-%COMP%]:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google[_ngcontent-%COMP%]{background:#dd4b39}.--google[_ngcontent-%COMP%]:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google[_ngcontent-%COMP%]:focus, .--google[_ngcontent-%COMP%]:hover{background:#e74b37}.--linkedin[_ngcontent-%COMP%]{background:#007bb6}.--linkedin[_ngcontent-%COMP%]:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin[_ngcontent-%COMP%]:focus, .--linkedin[_ngcontent-%COMP%]:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn[_ngcontent-%COMP%]{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat[_ngcontent-%COMP%]{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}"] });
/** @nocollapse */
FacebookLoginButton.ctorParameters = () => [
    { type: SocialService }
];
FacebookLoginButton.propDecorators = {
    size: [{ type: Input }],
    text: [{ type: Input }],
    style: [{ type: Input }],
    scopes: [{ type: Input }],
    socialUser: [{ type: Output }]
};
/*@__PURE__*/ (function () { Éµngcc0.ÉµsetClassMetadata(FacebookLoginButton, [{
        type: Component,
        args: [{
                selector: 'facebook-login-button',
                template: `
      <button [className]="style == 'round' ? 'social-btn facebook ' : 'button btn-block loginBtn --facebook '"
              (click)="socialSignIn()" type="button">
          {{style == 'round' ? '': text ? text : 'Login with Facebook'}}</button>
  `,
                styles: [`.button{font-family:Lato,"Lucida Grande","Lucida Sans Unicode",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn:focus{outline:0}.loginBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn:focus{outline:0}.shareBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook:focus,.--facebook:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google{background:#dd4b39}.--google:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google:focus,.--google:hover{background:#e74b37}.--linkedin{background:#007bb6}.--linkedin:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin:focus,.--linkedin:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}`]
            }]
    }], function () { return [{ type: SocialService }]; }, { socialUser: [{
            type: Output
        }], size: [{
            type: Input
        }], text: [{
            type: Input
        }], style: [{
            type: Input
        }], scopes: [{
            type: Input
        }] }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class GoogleLoginButton {
    /**
     * @param {?} socialAuthService
     */
    constructor(socialAuthService) {
        this.socialAuthService = socialAuthService;
        this.socialUser = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    socialSignIn() {
        this.socialAuthService.signIn('google', this.scopes).then((userData) => {
            this.socialUser.emit(userData);
        }).catch(() => {
            this.socialUser.emit(null);
        });
    }
}
GoogleLoginButton.Éµfac = function GoogleLoginButton_Factory(t) { return new (t || GoogleLoginButton)(Éµngcc0.ÉµÉµdirectiveInject(SocialService)); };
GoogleLoginButton.Éµcmp = Éµngcc0.ÉµÉµdefineComponent({ type: GoogleLoginButton, selectors: [["google-login-button"]], inputs: { size: "size", style: "style", text: "text", scopes: "scopes" }, outputs: { socialUser: "socialUser" }, decls: 2, vars: 2, consts: [["type", "button", 3, "className", "click"]], template: function GoogleLoginButton_Template(rf, ctx) { if (rf & 1) {
        Éµngcc0.ÉµÉµelementStart(0, "button", 0);
        Éµngcc0.ÉµÉµlistener("click", function GoogleLoginButton_Template_button_click_0_listener() { return ctx.socialSignIn(); });
        Éµngcc0.ÉµÉµtext(1);
        Éµngcc0.ÉµÉµelementEnd();
    } if (rf & 2) {
        Éµngcc0.ÉµÉµproperty("className", ctx.style == "round" ? "social-btn google" : "button btn-block loginBtn --google");
        Éµngcc0.ÉµÉµadvance(1);
        Éµngcc0.ÉµÉµtextInterpolate1(" ", ctx.style == "round" ? "" : ctx.text ? ctx.text : "Login with Google", " ");
    } }, styles: [".button[_ngcontent-%COMP%]{font-family:Lato,\"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn[_ngcontent-%COMP%]:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn[_ngcontent-%COMP%]:focus{outline:0}.loginBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn[_ngcontent-%COMP%]:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn[_ngcontent-%COMP%]:focus{outline:0}.shareBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook[_ngcontent-%COMP%]{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook[_ngcontent-%COMP%]:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook[_ngcontent-%COMP%]:focus, .--facebook[_ngcontent-%COMP%]:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google[_ngcontent-%COMP%]{background:#dd4b39}.--google[_ngcontent-%COMP%]:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google[_ngcontent-%COMP%]:focus, .--google[_ngcontent-%COMP%]:hover{background:#e74b37}.--linkedin[_ngcontent-%COMP%]{background:#007bb6}.--linkedin[_ngcontent-%COMP%]:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin[_ngcontent-%COMP%]:focus, .--linkedin[_ngcontent-%COMP%]:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn[_ngcontent-%COMP%]{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat[_ngcontent-%COMP%]{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}"] });
/** @nocollapse */
GoogleLoginButton.ctorParameters = () => [
    { type: SocialService }
];
GoogleLoginButton.propDecorators = {
    size: [{ type: Input }],
    style: [{ type: Input }],
    text: [{ type: Input }],
    scopes: [{ type: Input }],
    socialUser: [{ type: Output }]
};
/*@__PURE__*/ (function () { Éµngcc0.ÉµsetClassMetadata(GoogleLoginButton, [{
        type: Component,
        args: [{
                selector: 'google-login-button',
                template: `
		<button [className]="style == 'round' ? 'social-btn google' : 'button btn-block loginBtn --google'"
		        (click)="socialSignIn()" type="button">
			{{style == 'round' ? '':  text ? text : 'Login with Google'}}
		</button>
    `, styles: [`.button{font-family:Lato,"Lucida Grande","Lucida Sans Unicode",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn:focus{outline:0}.loginBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn:focus{outline:0}.shareBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook:focus,.--facebook:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google{background:#dd4b39}.--google:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google:focus,.--google:hover{background:#e74b37}.--linkedin{background:#007bb6}.--linkedin:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin:focus,.--linkedin:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}`]
            }]
    }], function () { return [{ type: SocialService }]; }, { socialUser: [{
            type: Output
        }], size: [{
            type: Input
        }], style: [{
            type: Input
        }], text: [{
            type: Input
        }], scopes: [{
            type: Input
        }] }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class LinkedinLoginButton {
    /**
     * @param {?} socialAuthService
     */
    constructor(socialAuthService) {
        this.socialAuthService = socialAuthService;
        this.socialUser = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    socialSignIn() {
        this.socialAuthService.signIn('linkedin', this.scopes).then((userData) => {
            this.socialUser.emit(userData);
        }).catch(() => {
            this.socialUser.emit(null);
        });
    }
}
LinkedinLoginButton.Éµfac = function LinkedinLoginButton_Factory(t) { return new (t || LinkedinLoginButton)(Éµngcc0.ÉµÉµdirectiveInject(SocialService)); };
LinkedinLoginButton.Éµcmp = Éµngcc0.ÉµÉµdefineComponent({ type: LinkedinLoginButton, selectors: [["linkedin-login-button"]], inputs: { size: "size", style: "style", text: "text", scopes: "scopes" }, outputs: { socialUser: "socialUser" }, decls: 2, vars: 2, consts: [["type", "button", 3, "className", "click"]], template: function LinkedinLoginButton_Template(rf, ctx) { if (rf & 1) {
        Éµngcc0.ÉµÉµelementStart(0, "button", 0);
        Éµngcc0.ÉµÉµlistener("click", function LinkedinLoginButton_Template_button_click_0_listener() { return ctx.socialSignIn(); });
        Éµngcc0.ÉµÉµtext(1);
        Éµngcc0.ÉµÉµelementEnd();
    } if (rf & 2) {
        Éµngcc0.ÉµÉµproperty("className", ctx.style == "round" ? "social-btn linkedin" : "button btn-block loginBtn --linkedin");
        Éµngcc0.ÉµÉµadvance(1);
        Éµngcc0.ÉµÉµtextInterpolate1(" ", ctx.style == "round" ? "" : ctx.text ? ctx.text : "Login with LinkedIn", " ");
    } }, styles: [".button[_ngcontent-%COMP%]{font-family:Lato,\"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn[_ngcontent-%COMP%]:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn[_ngcontent-%COMP%]:focus{outline:0}.loginBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn[_ngcontent-%COMP%]:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn[_ngcontent-%COMP%]:focus{outline:0}.shareBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook[_ngcontent-%COMP%]{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook[_ngcontent-%COMP%]:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook[_ngcontent-%COMP%]:focus, .--facebook[_ngcontent-%COMP%]:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google[_ngcontent-%COMP%]{background:#dd4b39}.--google[_ngcontent-%COMP%]:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google[_ngcontent-%COMP%]:focus, .--google[_ngcontent-%COMP%]:hover{background:#e74b37}.--linkedin[_ngcontent-%COMP%]{background:#007bb6}.--linkedin[_ngcontent-%COMP%]:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin[_ngcontent-%COMP%]:focus, .--linkedin[_ngcontent-%COMP%]:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn[_ngcontent-%COMP%]{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat[_ngcontent-%COMP%]{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}"] });
/** @nocollapse */
LinkedinLoginButton.ctorParameters = () => [
    { type: SocialService }
];
LinkedinLoginButton.propDecorators = {
    size: [{ type: Input }],
    style: [{ type: Input }],
    text: [{ type: Input }],
    scopes: [{ type: Input }],
    socialUser: [{ type: Output }]
};
/*@__PURE__*/ (function () { Éµngcc0.ÉµsetClassMetadata(LinkedinLoginButton, [{
        type: Component,
        args: [{
                selector: 'linkedin-login-button',
                template: `
		<button [className]="style == 'round' ? 'social-btn linkedin' : 'button btn-block loginBtn --linkedin'"
		        (click)="socialSignIn()" type="button">
			{{style == 'round' ? '':  text ? text : 'Login with LinkedIn'}}
		</button>
    `, styles: [`.button{font-family:Lato,"Lucida Grande","Lucida Sans Unicode",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn:focus{outline:0}.loginBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn:focus{outline:0}.shareBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook:focus,.--facebook:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google{background:#dd4b39}.--google:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google:focus,.--google:hover{background:#e74b37}.--linkedin{background:#007bb6}.--linkedin:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin:focus,.--linkedin:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}`]
            }]
    }], function () { return [{ type: SocialService }]; }, { socialUser: [{
            type: Output
        }], size: [{
            type: Input
        }], style: [{
            type: Input
        }], text: [{
            type: Input
        }], scopes: [{
            type: Input
        }] }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class FacebookSharingButton {
    /**
     * @param {?} socialAuthService
     * @param {?} document
     */
    constructor(socialAuthService, document) {
        this.socialAuthService = socialAuthService;
        this.document = document;
        this.share = null;
        this.response = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    sharing() {
        console.log(this.document.location.href);
        if (!this.share) {
            this.share = { href: this.document.location.href };
        }
        else if (!this.share.href) {
            this.share.href = this.document.location.href;
        }
        this.socialAuthService.facebookSharing(this.share).then(() => {
            this.response.emit(true);
        }).catch((err) => {
            this.response.emit(false);
        });
    }
}
FacebookSharingButton.Éµfac = function FacebookSharingButton_Factory(t) { return new (t || FacebookSharingButton)(Éµngcc0.ÉµÉµdirectiveInject(SocialService), Éµngcc0.ÉµÉµdirectiveInject(DOCUMENT)); };
FacebookSharingButton.Éµcmp = Éµngcc0.ÉµÉµdefineComponent({ type: FacebookSharingButton, selectors: [["facebook-share-button"]], inputs: { share: "share" }, outputs: { response: "response" }, decls: 2, vars: 0, consts: [["type", "button", 1, "button", "btn-block", "loginBtn", "--facebook", 3, "click"]], template: function FacebookSharingButton_Template(rf, ctx) { if (rf & 1) {
        Éµngcc0.ÉµÉµelementStart(0, "button", 0);
        Éµngcc0.ÉµÉµlistener("click", function FacebookSharingButton_Template_button_click_0_listener() { return ctx.sharing(); });
        Éµngcc0.ÉµÉµtext(1, "Share");
        Éµngcc0.ÉµÉµelementEnd();
    } }, styles: [".button[_ngcontent-%COMP%]{font-family:Lato,\"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn[_ngcontent-%COMP%]:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn[_ngcontent-%COMP%]:focus{outline:0}.loginBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn[_ngcontent-%COMP%]:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn[_ngcontent-%COMP%]:focus{outline:0}.shareBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook[_ngcontent-%COMP%]{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook[_ngcontent-%COMP%]:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook[_ngcontent-%COMP%]:focus, .--facebook[_ngcontent-%COMP%]:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google[_ngcontent-%COMP%]{background:#dd4b39}.--google[_ngcontent-%COMP%]:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google[_ngcontent-%COMP%]:focus, .--google[_ngcontent-%COMP%]:hover{background:#e74b37}.--linkedin[_ngcontent-%COMP%]{background:#007bb6}.--linkedin[_ngcontent-%COMP%]:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin[_ngcontent-%COMP%]:focus, .--linkedin[_ngcontent-%COMP%]:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn[_ngcontent-%COMP%]{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin[_ngcontent-%COMP%]{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat[_ngcontent-%COMP%]{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}"] });
/** @nocollapse */
FacebookSharingButton.ctorParameters = () => [
    { type: SocialService },
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
];
FacebookSharingButton.propDecorators = {
    share: [{ type: Input }],
    response: [{ type: Output }]
};
/*@__PURE__*/ (function () { Éµngcc0.ÉµsetClassMetadata(FacebookSharingButton, [{
        type: Component,
        args: [{
                selector: 'facebook-share-button',
                template: `
      <button class="button btn-block loginBtn --facebook" 
              (click)="sharing()" type="button">Share</button>
  `,
                styles: [`.button{font-family:Lato,"Lucida Grande","Lucida Sans Unicode",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn:focus{outline:0}.loginBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn:focus{outline:0}.shareBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook:focus,.--facebook:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google{background:#dd4b39}.--google:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google:focus,.--google:hover{background:#e74b37}.--linkedin{background:#007bb6}.--linkedin:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin:focus,.--linkedin:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}`]
            }]
    }], function () { return [{ type: SocialService }, { type: undefined, decorators: [{
                type: Inject,
                args: [DOCUMENT]
            }] }]; }, { share: [{
            type: Input
        }], response: [{
            type: Output
        }] }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class LinkedinSharingButton {
    /**
     * @param {?} socialAuthService
     * @param {?} document
     */
    constructor(socialAuthService, document) {
        this.socialAuthService = socialAuthService;
        this.document = document;
        this.share = { href: location.href };
        this.response = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        // add linkedin share button script tag to element
        this.element.nativeElement.innerHTML = `<script type="IN/Share" data-url="${this.share.href}"></script>`;
        // render share button
        // window['IN'] && window['IN'].parse();
    }
}
LinkedinSharingButton.Éµfac = function LinkedinSharingButton_Factory(t) { return new (t || LinkedinSharingButton)(Éµngcc0.ÉµÉµdirectiveInject(SocialService), Éµngcc0.ÉµÉµdirectiveInject(DOCUMENT)); };
LinkedinSharingButton.Éµcmp = Éµngcc0.ÉµÉµdefineComponent({ type: LinkedinSharingButton, selectors: [["linkedin-share-button"]], viewQuery: function LinkedinSharingButton_Query(rf, ctx) { if (rf & 1) {
        Éµngcc0.ÉµÉµviewQuery(_c0, true);
    } if (rf & 2) {
        var _t;
        Éµngcc0.ÉµÉµqueryRefresh(_t = Éµngcc0.ÉµÉµloadQuery()) && (ctx.element = _t.first);
    } }, inputs: { share: "share" }, outputs: { response: "response" }, decls: 2, vars: 0, consts: [["element", ""]], template: function LinkedinSharingButton_Template(rf, ctx) { if (rf & 1) {
        Éµngcc0.ÉµÉµelement(0, "span", null, 0);
    } }, encapsulation: 2 });
/** @nocollapse */
LinkedinSharingButton.ctorParameters = () => [
    { type: SocialService },
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
];
LinkedinSharingButton.propDecorators = {
    share: [{ type: Input }],
    response: [{ type: Output }],
    element: [{ type: ViewChild, args: ['element',] }]
};
/*@__PURE__*/ (function () { Éµngcc0.ÉµsetClassMetadata(LinkedinSharingButton, [{
        type: Component,
        args: [{
                selector: 'linkedin-share-button',
                template: `
        <span #element></span>
    `
            }]
    }], function () { return [{ type: SocialService }, { type: undefined, decorators: [{
                type: Inject,
                args: [DOCUMENT]
            }] }]; }, { share: [{
            type: Input
        }], response: [{
            type: Output
        }], element: [{
            type: ViewChild,
            args: ['element']
        }] }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class NgxSocialButtonModule {
}
NgxSocialButtonModule.Éµmod = Éµngcc0.ÉµÉµdefineNgModule({ type: NgxSocialButtonModule });
NgxSocialButtonModule.Éµinj = Éµngcc0.ÉµÉµdefineInjector({ factory: function NgxSocialButtonModule_Factory(t) { return new (t || NgxSocialButtonModule)(); }, imports: [[]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && Éµngcc0.ÉµÉµsetNgModuleScope(NgxSocialButtonModule, { declarations: [FacebookLoginButton,
        GoogleLoginButton,
        FacebookSharingButton,
        LinkedinLoginButton,
        LinkedinSharingButton], exports: [FacebookLoginButton,
        GoogleLoginButton,
        FacebookSharingButton,
        LinkedinLoginButton,
        LinkedinSharingButton] }); })();
/*@__PURE__*/ (function () { Éµngcc0.ÉµsetClassMetadata(NgxSocialButtonModule, [{
        type: NgModule,
        args: [{
                imports: [],
                declarations: [FacebookLoginButton, GoogleLoginButton,
                    FacebookSharingButton, LinkedinLoginButton,
                    LinkedinSharingButton],
                exports: [FacebookLoginButton, GoogleLoginButton,
                    FacebookSharingButton, LinkedinLoginButton,
                    LinkedinSharingButton]
            }]
    }], null, null); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { SocialServiceConfig, SocialService, FacebookLoginProvider, GoogleLoginProvider, FacebookLoginButton, GoogleLoginButton, LinkedinLoginButton, FacebookSharingButton, NgxSocialButtonModule, LinkedinSharingButton as Éµb, BaseLoginProviderImpl as Éµa };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXNvY2lhbC1idXR0b24uanMiLCJzb3VyY2VzIjpbIm5nOi9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvZW50aXRpZXMvYmFzZUxvZ2luUHJvdmlkZXJJbXBsLnRzIiwibmc6L25neC1zb2NpYWwtYnV0dG9uL2xpYi9lbnRpdGllcy91c2VyLnRzIiwibmc6L25neC1zb2NpYWwtYnV0dG9uL2xpYi9wcm92aWRlcnMvZmFjZWJvb2tQcm92aWRlci50cyIsIm5nOi9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvcHJvdmlkZXJzL2dvb2dsZVByb3ZpZGVyLnRzIiwibmc6L25neC1zb2NpYWwtYnV0dG9uL2xpYi9wcm92aWRlcnMvbGlua2VkaW5Qcm92aWRlci50cyIsIm5nOi9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvc29jaWFsLnNlcnZpY2UudHMiLCJuZzovbmd4LXNvY2lhbC1idXR0b24vbGliL2J1dHRvbnMvZmFjZWJvb2tMb2dpbkJ1dHRvbi50cyIsIm5nOi9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvYnV0dG9ucy9nb29nbGVMb2dpbkJ1dHRvbi50cyIsIm5nOi9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvYnV0dG9ucy9saW5rZWRpbkxvZ2luQnV0dG9uLnRzIiwibmc6L25neC1zb2NpYWwtYnV0dG9uL2xpYi9idXR0b25zL2ZhY2Vib29rU2hhcmluZ0J1dHRvbi50cyIsIm5nOi9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvYnV0dG9ucy9saW5rZWRpblNoYXJpbmdCdXR0b24udHMiLCJuZzovbmd4LXNvY2lhbC1idXR0b24vbGliL25neC1zb2NpYWwtYnV0dG9uLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUdBO0lBR0ksaUJBQWdCOzs7Ozs7SUFRbEIsVUFBVSxDQUFDLEdBQXVCLEVBQUUsTUFBVztRQUM3QyxJQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQUUsT0FBTztTQUFFOztRQUNs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LENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxTQUFTLEdBQUcscUNBQXFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxhQUFhLENBQUM7OztLQUc1Rzs7Ozs7Ozs7OztDQUVMLDRCQWpCTTs7RUFOTCxTQUFTLFNBQUMsa0JBQ1AsUUFBUTtDQUFFLHVCQUF1QixaQUg3QixhQUFhO2FBSWpCLFFBQVEsRUFBRSxzQ0FFVCxqQkFTWSxNQUFNLFNBQUMsUUFBUTtDQVIvQjs7b0JBR0ksS0FBSzt1QkFDTCxNQUFNO3NCQUNOLFNBQVMsU0FBQyxTQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBUTs7Ozs7O0FDbEJoQzs7O0NBQStCLGtEQU85QixRQUFRLFNBQUMsa0JBQ04sT0FBTyxFQUFFLEVBRVIsa0JBQ0QsWUFBWSxFQUFFLENBQUMsbUJBQW1CLEVBQUUsaUJBQWlCO2tCQUNqRCxxQkFBcUIsRUFBRSxtQkFBbUIsc0JBQzFDLHFCQUFxQixDQUFDLGtCQUMxQixPQUFPLEVBQUUsQ0FBQyxtQkFBbUI7QUFBRSxpQkFBaUI7WUFDNUM7RUFBcUIsRUFBRSxtQkFBbUI7Z0JBQzFDLHFCQUFxQixDQUFDLGNBQzdCOzs7Ozs7Ozs7Ozs7Ozs7OzBCQUNLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9naW5Qcm92aWRlciB9IGZyb20gJy4vbG9naW5Qcm92aWRlcic7XG5pbXBvcnQgeyBTb2NpYWxVc2VyLCBMb2dpblByb3ZpZGVyQ2xhc3MgfSBmcm9tICcuL3VzZXInO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUxvZ2luUHJvdmlkZXJJbXBsIGltcGxlbWVudHMgTG9naW5Qcm92aWRlciB7XG5cblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICBhYnN0cmFjdCBpbml0aWFsaXplKCk6IFByb21pc2U8U29jaWFsVXNlcj47XG4gIGFic3RyYWN0IHNpZ25JbihzY29wZXM/OltzdHJpbmddKTogUHJvbWlzZTxTb2NpYWxVc2VyPjtcbiAgYWJzdHJhY3Qgc2lnbk91dCgpOiBQcm9taXNlPGFueT47XG4gIGFic3RyYWN0IHNoYXJpbmcoc2hhcmU/OmFueSk6UHJvbWlzZTxhbnk+O1xuICBhYnN0cmFjdCBUWVBFOiBzdHJpbmc7XG5cbiAgbG9hZFNjcmlwdChvYmo6IExvZ2luUHJvdmlkZXJDbGFzcywgb25sb2FkOiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2JqLm5hbWUpKSB7IHJldHVybjsgfVxuICAgIGxldCBzaWduSW5KUyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNpZ25JbkpTLmFzeW5jID0gdHJ1ZTtcbiAgICBzaWduSW5KUy5zcmMgPSBvYmoudXJsO1xuICAgIHNpZ25JbkpTLm9ubG9hZCA9IG9ubG9hZDtcbiAgICBpZiAob2JqLm5hbWUgPT09ICdsaW5rZWRpbicpIHtcbiAgICAgIHNpZ25JbkpTLmFzeW5jID0gZmFsc2U7XG4gICAgICBzaWduSW5KUy50ZXh0ID0gKCdhcGlfa2V5OiAnICsgb2JqLmlkKS5yZXBsYWNlKCdcXCcnLCAnJyk7XG4gICAgfVxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2lnbkluSlMpO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIFNvY2lhbFVzZXIge1xuICAgIHByb3ZpZGVyOiBzdHJpbmc7XG4gICAgaWQ6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBpbWFnZTogc3RyaW5nO1xuICAgIGFjY2Vzc1Rva2VuPzogc3RyaW5nO1xuICAgIGlkVG9rZW4/OiBzdHJpbmdcbiAgfVxuICBcbiAgZXhwb3J0IGNsYXNzIExvZ2luUHJvdmlkZXJDbGFzcyB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdXJsOiBzdHJpbmc7XG4gIH1cbiAgXG4gIGV4cG9ydCBjbGFzcyBMaW5rZWRJblJlc3BvbnNlIHtcbiAgICBlbWFpbEFkZHJlc3M6IHN0cmluZztcbiAgICBmaXJzdE5hbWU6IHN0cmluZztcbiAgICBpZDogc3RyaW5nO1xuICAgIGxhc3ROYW1lOiBzdHJpbmc7XG4gICAgcGljdHVyZVVybDogc3RyaW5nO1xuICB9XG4iLCJpbXBvcnQgeyBCYXNlTG9naW5Qcm92aWRlckltcGwgfSBmcm9tICcuLi9lbnRpdGllcy9iYXNlTG9naW5Qcm92aWRlckltcGwnO1xuaW1wb3J0IHsgU29jaWFsVXNlciwgTG9naW5Qcm92aWRlckNsYXNzIH0gZnJvbSAnLi4vZW50aXRpZXMvdXNlcic7XG5cbmRlY2xhcmUgbGV0IEZCOiBhbnk7XG5cbmV4cG9ydCBjbGFzcyBGYWNlYm9va0xvZ2luUHJvdmlkZXIgZXh0ZW5kcyBCYXNlTG9naW5Qcm92aWRlckltcGwge1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfVFlQRSA9ICdmYWNlYm9vayc7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU0NPUEVTID0ge1xuICAgIEVNQUlMIDogJ2VtYWlsJyxcbiAgICBQVUJMSUNfUFJPRklMRTogJ3B1YmxpY19wcm9maWxlJ1xuICB9O1xuXG4gIHB1YmxpYyBUWVBFID0gJ2ZhY2Vib29rJztcbiAgcHVibGljIGxvZ2luUHJvdmlkZXJPYmo6IExvZ2luUHJvdmlkZXJDbGFzcyA9IG5ldyBMb2dpblByb3ZpZGVyQ2xhc3MoKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNsaWVudElkOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubG9naW5Qcm92aWRlck9iai5pZCA9IGNsaWVudElkO1xuICAgIHRoaXMubG9naW5Qcm92aWRlck9iai5uYW1lID0gJ2ZhY2Vib29rJztcbiAgICB0aGlzLmxvZ2luUHJvdmlkZXJPYmoudXJsID0gJ2h0dHBzOi8vY29ubmVjdC5mYWNlYm9vay5uZXQvZW5fVVMvc2RrLmpzJztcbiAgfVxuXG4gIGluaXRpYWxpemUoKTogUHJvbWlzZTxTb2NpYWxVc2VyPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMubG9hZFNjcmlwdCh0aGlzLmxvZ2luUHJvdmlkZXJPYmosICgpID0+IHtcbiAgICAgICAgICBGQi5pbml0KHtcbiAgICAgICAgICAgIGFwcElkOiB0aGlzLmNsaWVudElkLFxuICAgICAgICAgICAgYXV0b0xvZ0FwcEV2ZW50czogdHJ1ZSxcbiAgICAgICAgICAgIGNvb2tpZTogdHJ1ZSxcbiAgICAgICAgICAgIHhmYm1sOiB0cnVlLFxuICAgICAgICAgICAgdmVyc2lvbjogJ3YyLjgnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgRkIuQXBwRXZlbnRzLmxvZ1BhZ2VWaWV3KCk7XG5cbiAgICAgICAgICBGQi5nZXRMb2dpblN0YXR1cyhmdW5jdGlvbiAocmVzcG9uc2U6IGFueSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBGQi5nZXRBdXRoUmVzcG9uc2UoKVsnYWNjZXNzVG9rZW4nXTtcbiAgICAgICAgICAgICAgRkIuYXBpKCcvbWU/ZmllbGRzPW5hbWUsZW1haWwscGljdHVyZScsIChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoRmFjZWJvb2tMb2dpblByb3ZpZGVyLmRyYXdVc2VyKE9iamVjdC5hc3NpZ24oe30sIHt0b2tlbjogYWNjZXNzVG9rZW59LCByZXMpKSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBkcmF3VXNlcihyZXNwb25zZTogYW55KTogU29jaWFsVXNlciB7XG4gICAgbGV0IHVzZXI6IFNvY2lhbFVzZXIgPSBuZXcgU29jaWFsVXNlcigpO1xuICAgIHVzZXIuaWQgPSByZXNwb25zZS5pZDtcbiAgICB1c2VyLm5hbWUgPSByZXNwb25zZS5uYW1lO1xuICAgIHVzZXIuZW1haWwgPSByZXNwb25zZS5lbWFpbDtcbiAgICB1c2VyLmFjY2Vzc1Rva2VuID0gcmVzcG9uc2UuYWNjZXNzVG9rZW47XG4gICAgdXNlci5pbWFnZSA9ICdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgcmVzcG9uc2UuaWQgKyAnL3BpY3R1cmU/dHlwZT1ub3JtYWwnO1xuICAgIHJldHVybiB1c2VyO1xuICB9XG5cblxuICBzaWduSW4oc2NvcGVzPzpbc3RyaW5nXSk6IFByb21pc2U8U29jaWFsVXNlcj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBGQi5sb2dpbigocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcImZhY2Vib29rXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmF1dGhSZXNwb25zZSkge1xuICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gRkIuZ2V0QXV0aFJlc3BvbnNlKClbJ2FjY2Vzc1Rva2VuJ107XG4gICAgICAgICAgRkIuYXBpKCcvbWU/ZmllbGRzPW5hbWUsZW1haWwscGljdHVyZScsIChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJtZVwiLCByZXMpO1xuICAgICAgICAgICAgcmVzb2x2ZShGYWNlYm9va0xvZ2luUHJvdmlkZXIuZHJhd1VzZXIoT2JqZWN0LmFzc2lnbih7fSwge2FjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbn0sIHJlcykpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgeyBzY29wZTogc2NvcGVzICYmIHNjb3Blcy5sZW5ndGggPiAwID8gc2NvcGVzLmpvaW4oJywnKSA6ICdlbWFpbCxwdWJsaWNfcHJvZmlsZScgfSk7XG4gICAgfSk7XG4gIH1cblxuICBzaGFyaW5nKHNoYXJlPzphbnkpOiBQcm9taXNlPGFueT57XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgRkIudWkoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3NoYXJlJyxcbiAgICAgICAgICAgICAgICBocmVmOiBzaGFyZS5ocmVmLFxuICAgICAgICAgICAgICAgIGhhc2h0YWc6IChzaGFyZS5oYXNodGFnICYmIHNoYXJlLmhhc2h0YWcuaW5kZXhPZignIycpPj0wKT9zaGFyZS5oYXNodGFnIDogIG51bGxcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG4gIHNpZ25PdXQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgRkIubG9nb3V0KChyZXNwb25zZTogYW55KSA9PiB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbn0iLCJpbXBvcnQge0Jhc2VMb2dpblByb3ZpZGVySW1wbH0gZnJvbSAnLi4vZW50aXRpZXMvYmFzZUxvZ2luUHJvdmlkZXJJbXBsJztcbmltcG9ydCB7TG9naW5Qcm92aWRlckNsYXNzLCBTb2NpYWxVc2VyfSBmcm9tICcuLi9lbnRpdGllcy91c2VyJztcblxuZGVjbGFyZSBsZXQgZ2FwaTogYW55O1xuXG5leHBvcnQgY2xhc3MgR29vZ2xlTG9naW5Qcm92aWRlciBleHRlbmRzIEJhc2VMb2dpblByb3ZpZGVySW1wbCB7XG5cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBST1ZJREVSX1RZUEUgPSAnZ29vZ2xlJztcbiAgICBwdWJsaWMgbG9naW5Qcm92aWRlck9iajogTG9naW5Qcm92aWRlckNsYXNzID0gbmV3IExvZ2luUHJvdmlkZXJDbGFzcygpO1xuICAgIHByaXZhdGUgYXV0aDI6IGFueTtcbiAgICBwdWJsaWMgVFlQRSA9ICdnb29nbGUnO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjbGllbnRJZDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubG9naW5Qcm92aWRlck9iai5pZCA9IGNsaWVudElkO1xuICAgICAgICB0aGlzLmxvZ2luUHJvdmlkZXJPYmoubmFtZSA9ICdnb29nbGUnO1xuICAgICAgICB0aGlzLmxvZ2luUHJvdmlkZXJPYmoudXJsID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL3BsYXRmb3JtLmpzJztcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKCk6IFByb21pc2U8U29jaWFsVXNlcj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2FkU2NyaXB0KHRoaXMubG9naW5Qcm92aWRlck9iaiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGdhcGkubG9hZCgnYXV0aDInLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0aDIgPSBnYXBpLmF1dGgyLmluaXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X2lkOiB0aGlzLmNsaWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICdlbWFpbCdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoMi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dGgyLmlzU2lnbmVkSW4uZ2V0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZHJhd1VzZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRyYXdVc2VyKCk6IFNvY2lhbFVzZXIge1xuICAgICAgICBjb25zdCB1c2VyOiBTb2NpYWxVc2VyID0gbmV3IFNvY2lhbFVzZXIoKTtcbiAgICAgICAgY29uc3QgcHJvZmlsZSA9IHRoaXMuYXV0aDIuY3VycmVudFVzZXIuZ2V0KCkuZ2V0QmFzaWNQcm9maWxlKCk7XG4gICAgICAgIGNvbnN0IGF1dGhSZXNwb25zZU9iaiA9IHRoaXMuYXV0aDIuY3VycmVudFVzZXIuZ2V0KCkuZ2V0QXV0aFJlc3BvbnNlKHRydWUpO1xuICAgICAgICB1c2VyLmlkID0gcHJvZmlsZS5nZXRJZCgpO1xuICAgICAgICB1c2VyLm5hbWUgPSBwcm9maWxlLmdldE5hbWUoKTtcbiAgICAgICAgdXNlci5lbWFpbCA9IHByb2ZpbGUuZ2V0RW1haWwoKTtcbiAgICAgICAgdXNlci5pbWFnZSA9IHByb2ZpbGUuZ2V0SW1hZ2VVcmwoKTtcbiAgICAgICAgdXNlci5hY2Nlc3NUb2tlbiA9IGF1dGhSZXNwb25zZU9iai5hY2Nlc3NfdG9rZW47XG4gICAgICAgIHVzZXIuaWRUb2tlbiA9IGF1dGhSZXNwb25zZU9iai5pZF90b2tlbjtcbiAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgfVxuXG4gICAgc2lnbkluKHNjb3Blcz86IFtzdHJpbmddKTogUHJvbWlzZTxTb2NpYWxVc2VyPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5hdXRoMi5zaWduSW4oKTtcbiAgICAgICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmRyYXdVc2VyKCkpO1xuICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNpZ25PdXQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXV0aDIuc2lnbk91dCgpLnRoZW4oKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNoYXJpbmcoc2hhcmU/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1NvY2lhbFVzZXIsIExvZ2luUHJvdmlkZXJDbGFzcywgTGlua2VkSW5SZXNwb25zZX0gZnJvbSAnLi4vZW50aXRpZXMvdXNlcic7XG5pbXBvcnQge0Jhc2VMb2dpblByb3ZpZGVySW1wbH0gZnJvbSAnLi4vZW50aXRpZXMvYmFzZUxvZ2luUHJvdmlkZXJJbXBsJztcblxuZGVjbGFyZSBsZXQgSU46IGFueTtcblxuZXhwb3J0IGNsYXNzIExpbmtlZGluTG9naW5Qcm92aWRlciBleHRlbmRzIEJhc2VMb2dpblByb3ZpZGVySW1wbCB7XG5cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBST1ZJREVSX1RZUEUgPSAnbGlua2VkaW4nO1xuICAgIHB1YmxpYyBsb2dpblByb3ZpZGVyT2JqOiBMb2dpblByb3ZpZGVyQ2xhc3MgPSBuZXcgTG9naW5Qcm92aWRlckNsYXNzKCk7XG4gICAgVFlQRSA9ICdsaW5rZWRpbic7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNsaWVudElkOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sb2dpblByb3ZpZGVyT2JqLmlkID0gY2xpZW50SWQ7XG4gICAgICAgIHRoaXMubG9naW5Qcm92aWRlck9iai5uYW1lID0gJ2xpbmtlZGluJztcbiAgICAgICAgdGhpcy5sb2dpblByb3ZpZGVyT2JqLnVybCA9ICdodHRwczovL3BsYXRmb3JtLmxpbmtlZGluLmNvbS9pbi5qcyc7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPFNvY2lhbFVzZXI+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9hZFNjcmlwdCh0aGlzLmxvZ2luUHJvdmlkZXJPYmosICgpID0+IHtcbiAgICAgICAgICAgICAgICBJTi5pbml0KHtcbiAgICAgICAgICAgICAgICAgICAgYXBpX2tleTogdGhpcy5jbGllbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXplOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvbkxvYWQ6IHRoaXMub25MaW5rZWRJbkxvYWQoKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgSU4uRXZlbnQub24oSU4sICdhdXRoJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoSU4uVXNlci5pc0F1dGhvcml6ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgSU4uQVBJLlJhdyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnL3Blb3BsZS9+OihpZCxmaXJzdC1uYW1lLGxhc3QtbmFtZSxlbWFpbC1hZGRyZXNzLHBpY3R1cmUtdXJsKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICkucmVzdWx0KChyZXM6IExpbmtlZEluUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZHJhd1VzZXIocmVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25MaW5rZWRJbkxvYWQoKSB7XG4gICAgICAgIElOLkV2ZW50Lm9uKElOLCAnc3lzdGVtUmVhZHknLCAoKSA9PiB7XG4gICAgICAgICAgICBJTi5Vc2VyLnJlZnJlc2goKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZHJhd1VzZXIocmVzcG9uc2U6IExpbmtlZEluUmVzcG9uc2UpOiBTb2NpYWxVc2VyIHtcblxuICAgICAgICBjb25zdCB1c2VyOiBTb2NpYWxVc2VyID0gbmV3IFNvY2lhbFVzZXIoKTtcbiAgICAgICAgdXNlci5pZCA9IHJlc3BvbnNlLmlkO1xuICAgICAgICB1c2VyLm5hbWUgPSByZXNwb25zZS5maXJzdE5hbWUgKyAnICcgKyByZXNwb25zZS5sYXN0TmFtZTtcbiAgICAgICAgdXNlci5lbWFpbCA9IHJlc3BvbnNlLmVtYWlsQWRkcmVzcztcbiAgICAgICAgdXNlci5pbWFnZSA9IHJlc3BvbnNlLnBpY3R1cmVVcmw7XG4gICAgICAgIHVzZXIuYWNjZXNzVG9rZW4gPSBJTi5FTlYuYXV0aC5vYXV0aF90b2tlbjtcbiAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgfVxuXG4gICAgc2lnbkluKCk6IFByb21pc2U8U29jaWFsVXNlcj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgSU4uVXNlci5hdXRob3JpemUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIElOLkFQSS5SYXcoJy9wZW9wbGUvfjooaWQsZmlyc3QtbmFtZSxsYXN0LW5hbWUsZW1haWwtYWRkcmVzcyxwaWN0dXJlLXVybCknKS5yZXN1bHQoKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbGlua2VkaW4nLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZHJhd1VzZXIocmVzKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2lnbk91dCgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgSU4uVXNlci5sb2dvdXQoKHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCAoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHNoYXJpbmcoc2hhcmU/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAnY29tbWVudCc6IHNoYXJlID8gc2hhcmUuY29tbWVudCA6ICcnLFxuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5Jzoge1xuICAgICAgICAgICAgICAgICAgICAnY29kZSc6ICdhbnlvbmUnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIElOLkFQSS5SYXcoJy9wZW9wbGUvfi9zaGFyZXM/Zm9ybWF0PWpzb24nKVxuICAgICAgICAgICAgICAgIC5tZXRob2QoJ1BPU1QnKVxuICAgICAgICAgICAgICAgIC5ib2R5KEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKVxuICAgICAgICAgICAgICAgIC5yZXN1bHQoZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsaW5rZWRpbiBzaGFyZScsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZXJyb3Iob25FcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsaW5rZWRpbicsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7SW5qZWN0YWJsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7QmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHtMb2dpblByb3ZpZGVyfSBmcm9tICcuL2VudGl0aWVzL2xvZ2luUHJvdmlkZXInO1xuaW1wb3J0IHtGYWNlYm9va0xvZ2luUHJvdmlkZXJ9IGZyb20gJy4vcHJvdmlkZXJzL2ZhY2Vib29rUHJvdmlkZXInO1xuaW1wb3J0IHtHb29nbGVMb2dpblByb3ZpZGVyfSBmcm9tICcuL3Byb3ZpZGVycy9nb29nbGVQcm92aWRlcic7XG5pbXBvcnQge0xpbmtlZGluTG9naW5Qcm92aWRlcn0gZnJvbSAnLi9wcm92aWRlcnMvbGlua2VkaW5Qcm92aWRlcic7XG5cbmltcG9ydCB7U29jaWFsVXNlcn0gZnJvbSAnLi9lbnRpdGllcy91c2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBTb2NpYWxTZXJ2aWNlQ29uZmlnSXRlbSB7XG4gICAgcHJvdmlkZXI6IExvZ2luUHJvdmlkZXI7XG59XG5cblxuZXhwb3J0IGNsYXNzIFNvY2lhbFNlcnZpY2VDb25maWcge1xuICAgIHByaXZhdGUgcHJvdmlkZXJzOiBNYXA8c3RyaW5nLCBMb2dpblByb3ZpZGVyPiA9IG5ldyBNYXA8c3RyaW5nLCBMb2dpblByb3ZpZGVyPigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdmlkZXJzPzogU29jaWFsU2VydmljZUNvbmZpZ0l0ZW1bXSkge1xuICAgICAgICBpZiAocHJvdmlkZXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwcm92aWRlcnNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5wcm92aWRlcnMuc2V0KGVsZW1lbnQucHJvdmlkZXIuVFlQRSwgZWxlbWVudC5wcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQcm92aWRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVycztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFByb3ZpZGVyKHByb3ZpZGVyOiBMb2dpblByb3ZpZGVyKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm92aWRlcnMuZ2V0KHByb3ZpZGVyLlRZUEUpKSB7XG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVycy5zZXQocHJvdmlkZXIuVFlQRSwgcHJvdmlkZXIpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhZGRGYWNlYm9vayhjbGllbnRJZDogc3RyaW5nKTogU29jaWFsU2VydmljZUNvbmZpZyB7XG4gICAgICAgIHRoaXMuYWRkUHJvdmlkZXIobmV3IEZhY2Vib29rTG9naW5Qcm92aWRlcihjbGllbnRJZCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGRHb29nbGUoY2xpZW50SWQ6IHN0cmluZyk6IFNvY2lhbFNlcnZpY2VDb25maWcge1xuICAgICAgICB0aGlzLmFkZFByb3ZpZGVyKG5ldyBHb29nbGVMb2dpblByb3ZpZGVyKGNsaWVudElkKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZExpbmtlZEluKGNsaWVudElkOiBzdHJpbmcpOiBTb2NpYWxTZXJ2aWNlQ29uZmlnIHtcbiAgICAgICAgdGhpcy5hZGRQcm92aWRlcihuZXcgTGlua2VkaW5Mb2dpblByb3ZpZGVyKGNsaWVudElkKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxufVxuXG5ASW5qZWN0YWJsZSh7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIFNvY2lhbFNlcnZpY2Uge1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgTE9HSU5fUFJPVklERVJfTk9UX0ZPVU5EID0gJ0xvZ2luIHByb3ZpZGVyIG5vdCBmb3VuZCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVVNFUl9QT1BVUF9DTE9TRSA9ICdVc2VyIGNsb3NlIHRoZSBwb3B1cCc7XG5cbiAgICBwcml2YXRlIHByb3ZpZGVyczogTWFwPHN0cmluZywgTG9naW5Qcm92aWRlcj47XG5cbiAgICBwcml2YXRlIF91c2VyOiBTb2NpYWxVc2VyID0gbnVsbDtcbiAgICBwcml2YXRlIF9hdXRoU3RhdGU6IEJlaGF2aW9yU3ViamVjdDxTb2NpYWxVc2VyPiA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG5cbiAgICBnZXQgYXV0aFN0YXRlKCk6IE9ic2VydmFibGU8U29jaWFsVXNlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXV0aFN0YXRlLmFzT2JzZXJ2YWJsZSgpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogU29jaWFsU2VydmljZUNvbmZpZykge1xuICAgICAgICB0aGlzLnByb3ZpZGVycyA9IGNvbmZpZy5nZXRQcm92aWRlcnMoKTtcbiAgICAgICAgdGhpcy5wcm92aWRlcnMuZm9yRWFjaCgocHJvdmlkZXI6IExvZ2luUHJvdmlkZXIsIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBwcm92aWRlci5pbml0aWFsaXplKCkudGhlbigodXNlcjogU29jaWFsVXNlcikgPT4ge1xuICAgICAgICAgICAgICAgIHVzZXIucHJvdmlkZXIgPSBrZXk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXNlciA9IHVzZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0aFN0YXRlLm5leHQodXNlcik7XG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fYXV0aFN0YXRlLm5leHQobnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaXNTb2NpYWxMb2dnZWRJbigpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91c2VyICE9IG51bGwpO1xuICAgIH1cblxuXG4gICAgc2hhcmluZyhwcm92aWRlclR5cGU6IHN0cmluZywgc2hhcmU/OiBhbnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBwcm92aWRlck9iamVjdCA9IHRoaXMucHJvdmlkZXJzLmdldChwcm92aWRlclR5cGUpO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVyT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJPYmplY3Quc2hhcmluZyhzaGFyZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChTb2NpYWxTZXJ2aWNlLkxPR0lOX1BST1ZJREVSX05PVF9GT1VORCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZhY2Vib29rU2hhcmluZyhzaGFyZT86IGFueSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFyaW5nKCdmYWNlYm9vaycsIHNoYXJlKTtcbiAgICB9XG5cbiAgICAvLyBsaW5rZWRpblNoYXJpbmcoc2hhcmU/OiBhbnkpIHtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuc2hhcmluZygnbGlua2VkaW4nLCBzaGFyZSk7XG4gICAgLy8gfVxuXG4gICAgc2lnbkluKHByb3ZpZGVyVHlwZTogc3RyaW5nLCBzY29wZXM/OiBbc3RyaW5nXSk6IFByb21pc2U8U29jaWFsVXNlcj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHByb3ZpZGVyT2JqZWN0ID0gdGhpcy5wcm92aWRlcnMuZ2V0KHByb3ZpZGVyVHlwZSk7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXJPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlck9iamVjdC5zaWduSW4oc2NvcGVzKS50aGVuKCh1c2VyOiBTb2NpYWxVc2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXIucHJvdmlkZXIgPSBwcm92aWRlclR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodXNlcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VzZXIgPSB1c2VyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRoU3RhdGUubmV4dCh1c2VyKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChTb2NpYWxTZXJ2aWNlLlVTRVJfUE9QVVBfQ0xPU0UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QoU29jaWFsU2VydmljZS5MT0dJTl9QUk9WSURFUl9OT1RfRk9VTkQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaWduT3V0KCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdXNlciAmJiB0aGlzLl91c2VyLnByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb3ZpZGVyVHlwZSA9IHRoaXMuX3VzZXIucHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgbGV0IHByb3ZpZGVyT2JqZWN0ID0gdGhpcy5wcm92aWRlcnMuZ2V0KHByb3ZpZGVyVHlwZSk7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJPYmplY3Quc2lnbk91dCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91c2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXV0aFN0YXRlLm5leHQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1dGhTdGF0ZS5uZXh0KG51bGwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QoU29jaWFsU2VydmljZS5MT0dJTl9QUk9WSURFUl9OT1RfRk9VTkQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXJ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtTb2NpYWxTZXJ2aWNlfSBmcm9tICcuLi9zb2NpYWwuc2VydmljZSc7XG5pbXBvcnQgeyBTb2NpYWxVc2VyIH0gZnJvbSAnLi4vZW50aXRpZXMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZmFjZWJvb2stbG9naW4tYnV0dG9uJyxcbiAgdGVtcGxhdGU6IGBcbiAgICAgIDxidXR0b24gW2NsYXNzTmFtZV09XCJzdHlsZSA9PSAncm91bmQnID8gJ3NvY2lhbC1idG4gZmFjZWJvb2sgJyA6ICdidXR0b24gYnRuLWJsb2NrIGxvZ2luQnRuIC0tZmFjZWJvb2sgJ1wiXG4gICAgICAgICAgICAgIChjbGljayk9XCJzb2NpYWxTaWduSW4oKVwiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICB7e3N0eWxlID09ICdyb3VuZCcgPyAnJzogdGV4dCA/IHRleHQgOiAnTG9naW4gd2l0aCBGYWNlYm9vayd9fTwvYnV0dG9uPlxuICBgLFxuICAgIHN0eWxlczogW2AuYnV0dG9ue2ZvbnQtZmFtaWx5OkxhdG8sXCJMdWNpZGEgR3JhbmRlXCIsXCJMdWNpZGEgU2FucyBVbmljb2RlXCIsVGFob21hLFNhbnMtU2VyaWY7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3V0bGluZTowO2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlcjozcHggc29saWQgdHJhbnNwYXJlbnQ7Y3Vyc29yOnBvaW50ZXI7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudH0ubG9naW5CdG57Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjouMmVtO3BhZGRpbmc6MCAxNXB4IDAgNDZweDtib3JkZXI6bm9uZTt0ZXh0LWFsaWduOmxlZnQ7bGluZS1oZWlnaHQ6MzRweDt3aGl0ZS1zcGFjZTpub3dyYXA7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6I2ZmZn0ubG9naW5CdG46YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjM0cHg7aGVpZ2h0OjEwMCV9LmxvZ2luQnRuOmZvY3Vze291dGxpbmU6MH0ubG9naW5CdG46YWN0aXZle2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMzJweCByZ2JhKDAsMCwwLC4xKX0uc2hhcmVCdG57Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjouMmVtO3BhZGRpbmc6MCAxNXB4IDAgNDZweDtib3JkZXI6bm9uZTt0ZXh0LWFsaWduOmxlZnQ7bGluZS1oZWlnaHQ6MzRweDt3aGl0ZS1zcGFjZTpub3dyYXA7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6I2ZmZn0uc2hhcmVCdG46YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjM0cHg7aGVpZ2h0OjEwMCV9LnNoYXJlQnRuOmZvY3Vze291dGxpbmU6MH0uc2hhcmVCdG46YWN0aXZle2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMzJweCByZ2JhKDAsMCwwLC4xKX0uLS1mYWNlYm9va3tiYWNrZ3JvdW5kLWNvbG9yOiM0YzY5YmE7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoIzRjNjliYSwjM2I1NWEwKTt0ZXh0LXNoYWRvdzowIC0xcHggMCAjMzU0YzhjfS4tLWZhY2Vib29rOmJlZm9yZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICMzNjRlOTI7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTQwODIvaWNvbl9mYWNlYm9vay5wbmcpIDZweCA2cHggbm8tcmVwZWF0fS4tLWZhY2Vib29rOmZvY3VzLC4tLWZhY2Vib29rOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzViN2JkNTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgjNWI3YmQ1LCM0ODY0YjEpfS4tLWdvb2dsZXtiYWNrZ3JvdW5kOiNkZDRiMzl9Li0tZ29vZ2xlOmJlZm9yZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNiYjNmMzA7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTQwODIvaWNvbl9nb29nbGUucG5nKSA2cHggNnB4IG5vLXJlcGVhdH0uLS1nb29nbGU6Zm9jdXMsLi0tZ29vZ2xlOmhvdmVye2JhY2tncm91bmQ6I2U3NGIzN30uLS1saW5rZWRpbntiYWNrZ3JvdW5kOiMwMDdiYjZ9Li0tbGlua2VkaW46YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgIzAwN2JiNjtiYWNrZ3JvdW5kOnVybChodHRwczovL2NvbnRlbnQubGlua2VkaW4uY29tL2NvbnRlbnQvZGFtL2RldmVsb3Blci9nbG9iYWwvZW5fVVMvc2l0ZS9pbWcvc2lnbmluLWJ1dHRvbi5wbmcpIC0zcHggLTNweCBuby1yZXBlYXR9Li0tbGlua2VkaW46Zm9jdXMsLi0tbGlua2VkaW46aG92ZXJ7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoIzAwN2JiNiwjNDg2NGIxKX0uc29jaWFsLWJ0bnt3aWR0aDo1MHB4O2hlaWdodDo1MHB4O2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czoxMHB4O2JvcmRlcjpub25lfS5zb2NpYWwtYnRuLmZhY2Vib29re2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vbWFzdGVyL2Fzc2V0cy9mYWNlYm9vay5wbmcpfS5zb2NpYWwtYnRuLmdvb2dsZXtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSm9obm5pZUxpL25neC1zb2NpYWwtYnV0dG9uL21hc3Rlci9hc3NldHMvZ29vZ2xlLnBuZyl9LnNvY2lhbC1idG4ubGlua2VkaW57YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9tYXN0ZXIvYXNzZXRzL0xpbmtlZEluLnBuZyl9LnNvY2lhbC1idG4ud2VjaGF0e2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vYmxvYi9tYXN0ZXIvYXNzZXRzL3dlY2hhdC5wbmc/cmF3PXRydWUpfWBdLFxufSlcbmV4cG9ydCBjbGFzcyBGYWNlYm9va0xvZ2luQnV0dG9uIGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoKSBzaXplOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHRleHQ6IHN0cmluZztcbiAgQElucHV0KCkgc3R5bGU6IHN0cmluZztcbiAgQElucHV0KCkgc2NvcGVzOiBbc3RyaW5nXTtcbiAgQE91dHB1dCgpIHNvY2lhbFVzZXIgPSBuZXcgRXZlbnRFbWl0dGVyPFNvY2lhbFVzZXI+KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzb2NpYWxBdXRoU2VydmljZTogU29jaWFsU2VydmljZSkgeyB9XG5cbiAgbmdPbkluaXQoKSB7XG5cbiAgfVxuXG4gIHB1YmxpYyBzb2NpYWxTaWduSW4oKSB7ICAgIFxuICAgIHRoaXMuc29jaWFsQXV0aFNlcnZpY2Uuc2lnbkluKCdmYWNlYm9vaycsIHRoaXMuc2NvcGVzKS50aGVuKFxuICAgICAgKHVzZXJEYXRhOlNvY2lhbFVzZXIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJzb2NpYWxTaWduSW5cIiwgdXNlckRhdGEpO1xuICAgICAgIHRoaXMuc29jaWFsVXNlci5lbWl0KHVzZXJEYXRhKVxuICAgICAgfVxuICAgICkuY2F0Y2goKCk9PntcbiAgICAgICAgdGhpcy5zb2NpYWxVc2VyLmVtaXQobnVsbCk7XG4gICAgfSk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7U29jaWFsU2VydmljZX0gZnJvbSAnLi4vc29jaWFsLnNlcnZpY2UnO1xuaW1wb3J0IHtTb2NpYWxVc2VyfSBmcm9tICcuLi9lbnRpdGllcyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnZ29vZ2xlLWxvZ2luLWJ1dHRvbicsXG4gICAgdGVtcGxhdGU6IGBcblx0XHQ8YnV0dG9uIFtjbGFzc05hbWVdPVwic3R5bGUgPT0gJ3JvdW5kJyA/ICdzb2NpYWwtYnRuIGdvb2dsZScgOiAnYnV0dG9uIGJ0bi1ibG9jayBsb2dpbkJ0biAtLWdvb2dsZSdcIlxuXHRcdCAgICAgICAgKGNsaWNrKT1cInNvY2lhbFNpZ25JbigpXCIgdHlwZT1cImJ1dHRvblwiPlxuXHRcdFx0e3tzdHlsZSA9PSAncm91bmQnID8gJyc6ICB0ZXh0ID8gdGV4dCA6ICdMb2dpbiB3aXRoIEdvb2dsZSd9fVxuXHRcdDwvYnV0dG9uPlxuICAgIGAsIHN0eWxlczogW2AuYnV0dG9ue2ZvbnQtZmFtaWx5OkxhdG8sXCJMdWNpZGEgR3JhbmRlXCIsXCJMdWNpZGEgU2FucyBVbmljb2RlXCIsVGFob21hLFNhbnMtU2VyaWY7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3V0bGluZTowO2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlcjozcHggc29saWQgdHJhbnNwYXJlbnQ7Y3Vyc29yOnBvaW50ZXI7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudH0ubG9naW5CdG57Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjouMmVtO3BhZGRpbmc6MCAxNXB4IDAgNDZweDtib3JkZXI6bm9uZTt0ZXh0LWFsaWduOmxlZnQ7bGluZS1oZWlnaHQ6MzRweDt3aGl0ZS1zcGFjZTpub3dyYXA7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6I2ZmZn0ubG9naW5CdG46YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjM0cHg7aGVpZ2h0OjEwMCV9LmxvZ2luQnRuOmZvY3Vze291dGxpbmU6MH0ubG9naW5CdG46YWN0aXZle2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMzJweCByZ2JhKDAsMCwwLC4xKX0uc2hhcmVCdG57Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjouMmVtO3BhZGRpbmc6MCAxNXB4IDAgNDZweDtib3JkZXI6bm9uZTt0ZXh0LWFsaWduOmxlZnQ7bGluZS1oZWlnaHQ6MzRweDt3aGl0ZS1zcGFjZTpub3dyYXA7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6I2ZmZn0uc2hhcmVCdG46YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjM0cHg7aGVpZ2h0OjEwMCV9LnNoYXJlQnRuOmZvY3Vze291dGxpbmU6MH0uc2hhcmVCdG46YWN0aXZle2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMzJweCByZ2JhKDAsMCwwLC4xKX0uLS1mYWNlYm9va3tiYWNrZ3JvdW5kLWNvbG9yOiM0YzY5YmE7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoIzRjNjliYSwjM2I1NWEwKTt0ZXh0LXNoYWRvdzowIC0xcHggMCAjMzU0YzhjfS4tLWZhY2Vib29rOmJlZm9yZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICMzNjRlOTI7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTQwODIvaWNvbl9mYWNlYm9vay5wbmcpIDZweCA2cHggbm8tcmVwZWF0fS4tLWZhY2Vib29rOmZvY3VzLC4tLWZhY2Vib29rOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzViN2JkNTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgjNWI3YmQ1LCM0ODY0YjEpfS4tLWdvb2dsZXtiYWNrZ3JvdW5kOiNkZDRiMzl9Li0tZ29vZ2xlOmJlZm9yZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNiYjNmMzA7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTQwODIvaWNvbl9nb29nbGUucG5nKSA2cHggNnB4IG5vLXJlcGVhdH0uLS1nb29nbGU6Zm9jdXMsLi0tZ29vZ2xlOmhvdmVye2JhY2tncm91bmQ6I2U3NGIzN30uLS1saW5rZWRpbntiYWNrZ3JvdW5kOiMwMDdiYjZ9Li0tbGlua2VkaW46YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgIzAwN2JiNjtiYWNrZ3JvdW5kOnVybChodHRwczovL2NvbnRlbnQubGlua2VkaW4uY29tL2NvbnRlbnQvZGFtL2RldmVsb3Blci9nbG9iYWwvZW5fVVMvc2l0ZS9pbWcvc2lnbmluLWJ1dHRvbi5wbmcpIC0zcHggLTNweCBuby1yZXBlYXR9Li0tbGlua2VkaW46Zm9jdXMsLi0tbGlua2VkaW46aG92ZXJ7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoIzAwN2JiNiwjNDg2NGIxKX0uc29jaWFsLWJ0bnt3aWR0aDo1MHB4O2hlaWdodDo1MHB4O2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czoxMHB4O2JvcmRlcjpub25lfS5zb2NpYWwtYnRuLmZhY2Vib29re2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vbWFzdGVyL2Fzc2V0cy9mYWNlYm9vay5wbmcpfS5zb2NpYWwtYnRuLmdvb2dsZXtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSm9obm5pZUxpL25neC1zb2NpYWwtYnV0dG9uL21hc3Rlci9hc3NldHMvZ29vZ2xlLnBuZyl9LnNvY2lhbC1idG4ubGlua2VkaW57YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9tYXN0ZXIvYXNzZXRzL0xpbmtlZEluLnBuZyl9LnNvY2lhbC1idG4ud2VjaGF0e2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vYmxvYi9tYXN0ZXIvYXNzZXRzL3dlY2hhdC5wbmc/cmF3PXRydWUpfWBdLFxuXG59KVxuZXhwb3J0IGNsYXNzIEdvb2dsZUxvZ2luQnV0dG9uIGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIEBJbnB1dCgpIHNpemU6IHN0cmluZztcbiAgICBASW5wdXQoKSBzdHlsZTogc3RyaW5nO1xuICAgIEBJbnB1dCgpIHRleHQ6IHN0cmluZztcbiAgICBASW5wdXQoKSBzY29wZXM6IFtzdHJpbmddO1xuICAgIEBPdXRwdXQoKSBzb2NpYWxVc2VyID0gbmV3IEV2ZW50RW1pdHRlcjxTb2NpYWxVc2VyPigpO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzb2NpYWxBdXRoU2VydmljZTogU29jaWFsU2VydmljZSkge1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuXG4gICAgfVxuXG4gICAgcHVibGljIHNvY2lhbFNpZ25JbigpIHtcbiAgICAgICAgdGhpcy5zb2NpYWxBdXRoU2VydmljZS5zaWduSW4oJ2dvb2dsZScsIHRoaXMuc2NvcGVzKS50aGVuKFxuICAgICAgICAgICAgKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb2NpYWxVc2VyLmVtaXQodXNlckRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICApLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc29jaWFsVXNlci5lbWl0KG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1NvY2lhbFNlcnZpY2V9IGZyb20gJy4uL3NvY2lhbC5zZXJ2aWNlJztcbmltcG9ydCB7U29jaWFsVXNlcn0gZnJvbSAnLi4vZW50aXRpZXMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2xpbmtlZGluLWxvZ2luLWJ1dHRvbicsXG4gICAgdGVtcGxhdGU6IGBcblx0XHQ8YnV0dG9uIFtjbGFzc05hbWVdPVwic3R5bGUgPT0gJ3JvdW5kJyA/ICdzb2NpYWwtYnRuIGxpbmtlZGluJyA6ICdidXR0b24gYnRuLWJsb2NrIGxvZ2luQnRuIC0tbGlua2VkaW4nXCJcblx0XHQgICAgICAgIChjbGljayk9XCJzb2NpYWxTaWduSW4oKVwiIHR5cGU9XCJidXR0b25cIj5cblx0XHRcdHt7c3R5bGUgPT0gJ3JvdW5kJyA/ICcnOiAgdGV4dCA/IHRleHQgOiAnTG9naW4gd2l0aCBMaW5rZWRJbid9fVxuXHRcdDwvYnV0dG9uPlxuICAgIGAsIHN0eWxlczogW2AuYnV0dG9ue2ZvbnQtZmFtaWx5OkxhdG8sXCJMdWNpZGEgR3JhbmRlXCIsXCJMdWNpZGEgU2FucyBVbmljb2RlXCIsVGFob21hLFNhbnMtU2VyaWY7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3V0bGluZTowO2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlcjozcHggc29saWQgdHJhbnNwYXJlbnQ7Y3Vyc29yOnBvaW50ZXI7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudH0ubG9naW5CdG57Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjouMmVtO3BhZGRpbmc6MCAxNXB4IDAgNDZweDtib3JkZXI6bm9uZTt0ZXh0LWFsaWduOmxlZnQ7bGluZS1oZWlnaHQ6MzRweDt3aGl0ZS1zcGFjZTpub3dyYXA7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6I2ZmZn0ubG9naW5CdG46YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjM0cHg7aGVpZ2h0OjEwMCV9LmxvZ2luQnRuOmZvY3Vze291dGxpbmU6MH0ubG9naW5CdG46YWN0aXZle2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMzJweCByZ2JhKDAsMCwwLC4xKX0uc2hhcmVCdG57Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjouMmVtO3BhZGRpbmc6MCAxNXB4IDAgNDZweDtib3JkZXI6bm9uZTt0ZXh0LWFsaWduOmxlZnQ7bGluZS1oZWlnaHQ6MzRweDt3aGl0ZS1zcGFjZTpub3dyYXA7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6I2ZmZn0uc2hhcmVCdG46YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjM0cHg7aGVpZ2h0OjEwMCV9LnNoYXJlQnRuOmZvY3Vze291dGxpbmU6MH0uc2hhcmVCdG46YWN0aXZle2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMzJweCByZ2JhKDAsMCwwLC4xKX0uLS1mYWNlYm9va3tiYWNrZ3JvdW5kLWNvbG9yOiM0YzY5YmE7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoIzRjNjliYSwjM2I1NWEwKTt0ZXh0LXNoYWRvdzowIC0xcHggMCAjMzU0YzhjfS4tLWZhY2Vib29rOmJlZm9yZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICMzNjRlOTI7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTQwODIvaWNvbl9mYWNlYm9vay5wbmcpIDZweCA2cHggbm8tcmVwZWF0fS4tLWZhY2Vib29rOmZvY3VzLC4tLWZhY2Vib29rOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzViN2JkNTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgjNWI3YmQ1LCM0ODY0YjEpfS4tLWdvb2dsZXtiYWNrZ3JvdW5kOiNkZDRiMzl9Li0tZ29vZ2xlOmJlZm9yZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNiYjNmMzA7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTQwODIvaWNvbl9nb29nbGUucG5nKSA2cHggNnB4IG5vLXJlcGVhdH0uLS1nb29nbGU6Zm9jdXMsLi0tZ29vZ2xlOmhvdmVye2JhY2tncm91bmQ6I2U3NGIzN30uLS1saW5rZWRpbntiYWNrZ3JvdW5kOiMwMDdiYjZ9Li0tbGlua2VkaW46YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgIzAwN2JiNjtiYWNrZ3JvdW5kOnVybChodHRwczovL2NvbnRlbnQubGlua2VkaW4uY29tL2NvbnRlbnQvZGFtL2RldmVsb3Blci9nbG9iYWwvZW5fVVMvc2l0ZS9pbWcvc2lnbmluLWJ1dHRvbi5wbmcpIC0zcHggLTNweCBuby1yZXBlYXR9Li0tbGlua2VkaW46Zm9jdXMsLi0tbGlua2VkaW46aG92ZXJ7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoIzAwN2JiNiwjNDg2NGIxKX0uc29jaWFsLWJ0bnt3aWR0aDo1MHB4O2hlaWdodDo1MHB4O2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czoxMHB4O2JvcmRlcjpub25lfS5zb2NpYWwtYnRuLmZhY2Vib29re2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vbWFzdGVyL2Fzc2V0cy9mYWNlYm9vay5wbmcpfS5zb2NpYWwtYnRuLmdvb2dsZXtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSm9obm5pZUxpL25neC1zb2NpYWwtYnV0dG9uL21hc3Rlci9hc3NldHMvZ29vZ2xlLnBuZyl9LnNvY2lhbC1idG4ubGlua2VkaW57YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9tYXN0ZXIvYXNzZXRzL0xpbmtlZEluLnBuZyl9LnNvY2lhbC1idG4ud2VjaGF0e2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vYmxvYi9tYXN0ZXIvYXNzZXRzL3dlY2hhdC5wbmc/cmF3PXRydWUpfWBdLFxuXG59KVxuZXhwb3J0IGNsYXNzIExpbmtlZGluTG9naW5CdXR0b24gaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgQElucHV0KCkgc2l6ZTogc3RyaW5nO1xuICAgIEBJbnB1dCgpIHN0eWxlOiBzdHJpbmc7XG4gICAgQElucHV0KCkgdGV4dDogc3RyaW5nO1xuICAgIEBJbnB1dCgpIHNjb3BlczogW3N0cmluZ107XG4gICAgQE91dHB1dCgpIHNvY2lhbFVzZXIgPSBuZXcgRXZlbnRFbWl0dGVyPFNvY2lhbFVzZXI+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNvY2lhbEF1dGhTZXJ2aWNlOiBTb2NpYWxTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgc29jaWFsU2lnbkluKCkge1xuICAgICAgICB0aGlzLnNvY2lhbEF1dGhTZXJ2aWNlLnNpZ25JbignbGlua2VkaW4nLCB0aGlzLnNjb3BlcykudGhlbihcbiAgICAgICAgICAgICh1c2VyRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc29jaWFsVXNlci5lbWl0KHVzZXJEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNvY2lhbFVzZXIuZW1pdChudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIEluamVjdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0RPQ1VNRU5UfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQge1NvY2lhbFNlcnZpY2V9IGZyb20gJy4uL3NvY2lhbC5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdmYWNlYm9vay1zaGFyZS1idXR0b24nLFxuICAgIHRlbXBsYXRlOiBgXG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGJ0bi1ibG9jayBsb2dpbkJ0biAtLWZhY2Vib29rXCIgXG4gICAgICAgICAgICAgIChjbGljayk9XCJzaGFyaW5nKClcIiB0eXBlPVwiYnV0dG9uXCI+U2hhcmU8L2J1dHRvbj5cbiAgYCxcbiAgICBzdHlsZXM6IFtgLmJ1dHRvbntmb250LWZhbWlseTpMYXRvLFwiTHVjaWRhIEdyYW5kZVwiLFwiTHVjaWRhIFNhbnMgVW5pY29kZVwiLFRhaG9tYSxTYW5zLVNlcmlmOy13ZWJraXQtYXBwZWFyYW5jZTpub25lO2Rpc3BsYXk6aW5saW5lLWJsb2NrO291dGxpbmU6MDtib3JkZXItcmFkaXVzOjNweDtib3JkZXI6M3B4IHNvbGlkIHRyYW5zcGFyZW50O2N1cnNvcjpwb2ludGVyO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7dGV4dC1kZWNvcmF0aW9uOm5vbmUhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjQwMCFpbXBvcnRhbnR9LmxvZ2luQnRue2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46LjJlbTtwYWRkaW5nOjAgMTVweCAwIDQ2cHg7Ym9yZGVyOm5vbmU7dGV4dC1hbGlnbjpsZWZ0O2xpbmUtaGVpZ2h0OjM0cHg7d2hpdGUtc3BhY2U6bm93cmFwO2JvcmRlci1yYWRpdXM6M3B4O2ZvbnQtc2l6ZToxNnB4O2NvbG9yOiNmZmZ9LmxvZ2luQnRuOmJlZm9yZXtjb250ZW50OlwiXCI7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDozNHB4O2hlaWdodDoxMDAlfS5sb2dpbkJ0bjpmb2N1c3tvdXRsaW5lOjB9LmxvZ2luQnRuOmFjdGl2ZXtib3gtc2hhZG93Omluc2V0IDAgMCAwIDMycHggcmdiYSgwLDAsMCwuMSl9LnNoYXJlQnRue2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46LjJlbTtwYWRkaW5nOjAgMTVweCAwIDQ2cHg7Ym9yZGVyOm5vbmU7dGV4dC1hbGlnbjpsZWZ0O2xpbmUtaGVpZ2h0OjM0cHg7d2hpdGUtc3BhY2U6bm93cmFwO2JvcmRlci1yYWRpdXM6M3B4O2ZvbnQtc2l6ZToxNnB4O2NvbG9yOiNmZmZ9LnNoYXJlQnRuOmJlZm9yZXtjb250ZW50OlwiXCI7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDozNHB4O2hlaWdodDoxMDAlfS5zaGFyZUJ0bjpmb2N1c3tvdXRsaW5lOjB9LnNoYXJlQnRuOmFjdGl2ZXtib3gtc2hhZG93Omluc2V0IDAgMCAwIDMycHggcmdiYSgwLDAsMCwuMSl9Li0tZmFjZWJvb2t7YmFja2dyb3VuZC1jb2xvcjojNGM2OWJhO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KCM0YzY5YmEsIzNiNTVhMCk7dGV4dC1zaGFkb3c6MCAtMXB4IDAgIzM1NGM4Y30uLS1mYWNlYm9vazpiZWZvcmV7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjMzY0ZTkyO2JhY2tncm91bmQ6dXJsKGh0dHBzOi8vczMtdXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vcy5jZHBuLmlvLzE0MDgyL2ljb25fZmFjZWJvb2sucG5nKSA2cHggNnB4IG5vLXJlcGVhdH0uLS1mYWNlYm9vazpmb2N1cywuLS1mYWNlYm9vazpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM1YjdiZDU7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoIzViN2JkNSwjNDg2NGIxKX0uLS1nb29nbGV7YmFja2dyb3VuZDojZGQ0YjM5fS4tLWdvb2dsZTpiZWZvcmV7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjYmIzZjMwO2JhY2tncm91bmQ6dXJsKGh0dHBzOi8vczMtdXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vcy5jZHBuLmlvLzE0MDgyL2ljb25fZ29vZ2xlLnBuZykgNnB4IDZweCBuby1yZXBlYXR9Li0tZ29vZ2xlOmZvY3VzLC4tLWdvb2dsZTpob3ZlcntiYWNrZ3JvdW5kOiNlNzRiMzd9Li0tbGlua2VkaW57YmFja2dyb3VuZDojMDA3YmI2fS4tLWxpbmtlZGluOmJlZm9yZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICMwMDdiYjY7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly9jb250ZW50LmxpbmtlZGluLmNvbS9jb250ZW50L2RhbS9kZXZlbG9wZXIvZ2xvYmFsL2VuX1VTL3NpdGUvaW1nL3NpZ25pbi1idXR0b24ucG5nKSAtM3B4IC0zcHggbm8tcmVwZWF0fS4tLWxpbmtlZGluOmZvY3VzLC4tLWxpbmtlZGluOmhvdmVye2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KCMwMDdiYjYsIzQ4NjRiMSl9LnNvY2lhbC1idG57d2lkdGg6NTBweDtoZWlnaHQ6NTBweDtiYWNrZ3JvdW5kLXNpemU6Y292ZXI7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6MTBweDtib3JkZXI6bm9uZX0uc29jaWFsLWJ0bi5mYWNlYm9va3tiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSm9obm5pZUxpL25neC1zb2NpYWwtYnV0dG9uL21hc3Rlci9hc3NldHMvZmFjZWJvb2sucG5nKX0uc29jaWFsLWJ0bi5nb29nbGV7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9tYXN0ZXIvYXNzZXRzL2dvb2dsZS5wbmcpfS5zb2NpYWwtYnRuLmxpbmtlZGlue2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vbWFzdGVyL2Fzc2V0cy9MaW5rZWRJbi5wbmcpfS5zb2NpYWwtYnRuLndlY2hhdHtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL2dpdGh1Yi5jb20vSm9obm5pZUxpL25neC1zb2NpYWwtYnV0dG9uL2Jsb2IvbWFzdGVyL2Fzc2V0cy93ZWNoYXQucG5nP3Jhdz10cnVlKX1gXSxcbn0pXG5leHBvcnQgY2xhc3MgRmFjZWJvb2tTaGFyaW5nQnV0dG9uIGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIEBJbnB1dCgpIHNoYXJlOiBhbnkgPSBudWxsO1xuICAgIEBPdXRwdXQoKSByZXNwb25zZSA9IG5ldyBFdmVudEVtaXR0ZXI8Qm9vbGVhbj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc29jaWFsQXV0aFNlcnZpY2U6IFNvY2lhbFNlcnZpY2UsXG4gICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgZG9jdW1lbnQ6IGFueSkgeyB9XG5cbiAgICBuZ09uSW5pdCgpIHtcblxuICAgIH1cblxuICAgIHB1YmxpYyBzaGFyaW5nKCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRvY3VtZW50LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICBpZighdGhpcy5zaGFyZSl7XG4gICAgICAgICAgICB0aGlzLnNoYXJlID0ge2hyZWY6dGhpcy5kb2N1bWVudC5sb2NhdGlvbi5ocmVmfVxuICAgICAgICB9ZWxzZSBpZighdGhpcy5zaGFyZS5ocmVmKXtcbiAgICAgICAgICAgIHRoaXMuc2hhcmUuaHJlZiA9IHRoaXMuZG9jdW1lbnQubG9jYXRpb24uaHJlZlxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc29jaWFsQXV0aFNlcnZpY2UuZmFjZWJvb2tTaGFyaW5nKHRoaXMuc2hhcmUpLnRoZW4oKCk9PntcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2UuZW1pdCh0cnVlKTtcbiAgICAgICAgfSkuY2F0Y2goKGVycik9PntcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2UuZW1pdChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBJbmplY3QsIEVsZW1lbnRSZWYsIFZpZXdDaGlsZCxcbiAgICBBZnRlclZpZXdJbml0XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtET0NVTUVOVH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuaW1wb3J0IHtTb2NpYWxTZXJ2aWNlfSBmcm9tICcuLi9zb2NpYWwuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnbGlua2VkaW4tc2hhcmUtYnV0dG9uJyxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICA8c3BhbiAjZWxlbWVudD48L3NwYW4+XG4gICAgYCxcbn0pXG5leHBvcnQgY2xhc3MgTGlua2VkaW5TaGFyaW5nQnV0dG9uIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG5cbiAgICBASW5wdXQoKSBzaGFyZTogYW55ID0ge2hyZWY6IGxvY2F0aW9uLmhyZWZ9O1xuICAgIEBPdXRwdXQoKSByZXNwb25zZSA9IG5ldyBFdmVudEVtaXR0ZXI8Qm9vbGVhbj4oKTtcbiAgICBAVmlld0NoaWxkKCdlbGVtZW50JykgZWxlbWVudDogRWxlbWVudFJlZjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc29jaWFsQXV0aFNlcnZpY2U6IFNvY2lhbFNlcnZpY2UsXG4gICAgICAgICAgICAgICAgQEluamVjdChET0NVTUVOVCkgcHJpdmF0ZSBkb2N1bWVudDogYW55KSB7XG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICAvLyBhZGQgbGlua2VkaW4gc2hhcmUgYnV0dG9uIHNjcmlwdCB0YWcgdG8gZWxlbWVudFxuICAgICAgICB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5pbm5lckhUTUwgPSBgPHNjcmlwdCB0eXBlPVwiSU4vU2hhcmVcIiBkYXRhLXVybD1cIiR7dGhpcy5zaGFyZS5ocmVmfVwiPjwvc2NyaXB0PmA7XG4gICAgICAgIC8vIHJlbmRlciBzaGFyZSBidXR0b25cbiAgICAgICAgLy8gd2luZG93WydJTiddICYmIHdpbmRvd1snSU4nXS5wYXJzZSgpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZhY2Vib29rTG9naW5CdXR0b24gfSBmcm9tICcuL2J1dHRvbnMvZmFjZWJvb2tMb2dpbkJ1dHRvbic7XG5pbXBvcnQgeyBHb29nbGVMb2dpbkJ1dHRvbiB9IGZyb20gJy4vYnV0dG9ucy9nb29nbGVMb2dpbkJ1dHRvbic7XG5pbXBvcnQge0ZhY2Vib29rU2hhcmluZ0J1dHRvbn0gZnJvbSAnLi9idXR0b25zL2ZhY2Vib29rU2hhcmluZ0J1dHRvbic7XG5pbXBvcnQge0xpbmtlZGluTG9naW5CdXR0b259IGZyb20gJy4vYnV0dG9ucy9saW5rZWRpbkxvZ2luQnV0dG9uJztcbmltcG9ydCB7TGlua2VkaW5TaGFyaW5nQnV0dG9ufSBmcm9tICcuL2J1dHRvbnMvbGlua2VkaW5TaGFyaW5nQnV0dG9uJztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG5cbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW0ZhY2Vib29rTG9naW5CdXR0b24sIEdvb2dsZUxvZ2luQnV0dG9uLFxuICAgICAgICBGYWNlYm9va1NoYXJpbmdCdXR0b24sIExpbmtlZGluTG9naW5CdXR0b24sXG4gICAgICAgIExpbmtlZGluU2hhcmluZ0J1dHRvbl0sXG4gICAgZXhwb3J0czogW0ZhY2Vib29rTG9naW5CdXR0b24sIEdvb2dsZUxvZ2luQnV0dG9uLFxuICAgICAgICBGYWNlYm9va1NoYXJpbmdCdXR0b24sIExpbmtlZGluTG9naW5CdXR0b24sXG4gICAgICAgIExpbmtlZGluU2hhcmluZ0J1dHRvbl1cbn0pXG5leHBvcnQgY2xhc3MgTmd4U29jaWFsQnV0dG9uTW9kdWxlIHsgfVxuIl19