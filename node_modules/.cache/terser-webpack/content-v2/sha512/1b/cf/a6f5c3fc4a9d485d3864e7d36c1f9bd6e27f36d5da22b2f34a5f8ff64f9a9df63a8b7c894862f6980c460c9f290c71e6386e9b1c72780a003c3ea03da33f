{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{begV:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var common=__webpack_require__(\"ofXK\"),fesm2015_router=__webpack_require__(\"tyNb\"),user=__webpack_require__(\"2hxB\");class IUpdateProfileModel{}var http=__webpack_require__(\"tk/3\"),core=__webpack_require__(\"fXoL\"),local_storage_factory_service=__webpack_require__(\"gg15\"),account_service=__webpack_require__(\"IRyT\"),endpoint_factory_service=__webpack_require__(\"R6a7\"),fesm2015_forms=__webpack_require__(\"3Pt+\");const routes=[{path:\"update-profile\",component:(()=>{class UpdateProfileComponent{constructor(router,getAccessTokenFromLocalStorage,srvAccountService,srvEndpointFactory,srvLocalStoragefactory){this.router=router,this.getAccessTokenFromLocalStorage=getAccessTokenFromLocalStorage,this.srvAccountService=srvAccountService,this.srvEndpointFactory=srvEndpointFactory,this.srvLocalStoragefactory=srvLocalStoragefactory,this.getProfileInformation=()=>{this.srvAccountService.getUserProfileInfoEndpoint(this.access_token).subscribe(res=>{this.objUser=res.response.data})},this.objUser=new user.a,this.objUpdateProfile=new IUpdateProfileModel}ngOnInit(){this.getProfileInformation(),this.access_token=this.getAccessTokenFromLocalStorage.getTokenFromLocalStorage()}Update(){let body=new http.g;body=body.set(\"first_name\",this.objUpdateProfile.first_name),body=body.set(\"last_name\",this.objUpdateProfile.last_name),body=body.set(\"picture\",this.objUpdateProfile.picture),body=body.set(\"user_id\",this.objUser.user_id),this.srvAccountService.updateUserProfileEndpoint(this.objUpdateProfile.first_name,this.objUpdateProfile.last_name,this.objUpdateProfile.picture,\"Bearer \"+this.access_token).subscribe(res=>{alert(\"profile updated\"),this.router.navigate([\"/\"])},err=>{JSON.stringify(err)})}handleFileSelect($event){var files=$event.target.files,file=files[0];if(files&&file){var reader=new FileReader;reader.onload=this._handleReaderLoaded.bind(this),reader.readAsBinaryString(file)}}_handleReaderLoaded(readerEvt){this.objUpdateProfile.picture=btoa(readerEvt.target.result)}}return UpdateProfileComponent.ɵfac=function(t){return new(t||UpdateProfileComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.c),core[\"ɵɵdirectiveInject\"](local_storage_factory_service.a),core[\"ɵɵdirectiveInject\"](account_service.a),core[\"ɵɵdirectiveInject\"](endpoint_factory_service.a),core[\"ɵɵdirectiveInject\"](local_storage_factory_service.a))},UpdateProfileComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:UpdateProfileComponent,selectors:[[\"app-update-profile\"]],decls:19,vars:2,consts:[[1,\"login-form\"],[\"action\",\"/examples/actions/confirmation.php\",\"method\",\"post\"],[1,\"text-center\",\"fontstyle\"],[1,\"form-group\",\"fontstyle\"],[\"type\",\"text\",\"name\",\"Fname\",\"placeholder\",\"FirstName\",\"required\",\"required\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"text\",\"name\",\"Lname\",\"placeholder\",\"LastName\",\"required\",\"required\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"file\",3,\"change\"],[\"type\",\"submit\",1,\"btn\",\"btn-primary\",\"btn-block\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵelementStart\"](1,\"form\",1),core[\"ɵɵelementStart\"](2,\"h2\",2),core[\"ɵɵtext\"](3,\"Update Profile\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](4,\"div\",3),core[\"ɵɵelementStart\"](5,\"label\"),core[\"ɵɵtext\"](6,\"First Name\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](7,\"input\",4),core[\"ɵɵlistener\"](\"ngModelChange\",(function($event){return ctx.objUpdateProfile.first_name=$event})),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](8,\"div\",3),core[\"ɵɵelementStart\"](9,\"label\"),core[\"ɵɵtext\"](10,\"Last Name\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](11,\"input\",5),core[\"ɵɵlistener\"](\"ngModelChange\",(function($event){return ctx.objUpdateProfile.last_name=$event})),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](12,\"div\",3),core[\"ɵɵelementStart\"](13,\"label\"),core[\"ɵɵtext\"](14,\"Choose Image\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](15,\"input\",6),core[\"ɵɵlistener\"](\"change\",(function($event){return ctx.handleFileSelect($event)})),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](16,\"div\",3),core[\"ɵɵelementStart\"](17,\"button\",7),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.Update()})),core[\"ɵɵtext\"](18,\"Update\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵproperty\"](\"ngModel\",ctx.objUpdateProfile.first_name),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngModel\",ctx.objUpdateProfile.last_name))},directives:[fesm2015_forms.C,fesm2015_forms.o,fesm2015_forms.p,fesm2015_forms.b,fesm2015_forms.x,fesm2015_forms.n,fesm2015_forms.q],styles:[\".btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#28a745!important;border-color:#28a745!important}.login-form[_ngcontent-%COMP%]{width:340px;margin:50px auto}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:15px;background:#f7f7f7;box-shadow:0 2px 2px rgba(0,0,0,.3);padding:30px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{min-height:38px;border-radius:2px}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-family:San Francisco Display Medium}.btn[_ngcontent-%COMP%]{font-size:15px;font-weight:700}[_ngcontent-%COMP%]::-webkit-input-placeholder{font-family:San Francisco Display Thin;color:#333;font-size:1.05rem}.fontstyle[_ngcontent-%COMP%]{font-family:San Francisco Display Medium}\"]}),UpdateProfileComponent})()}];let update_profile_routing_module_UpdateProfileRoutingModule=(()=>{class UpdateProfileRoutingModule{}return UpdateProfileRoutingModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:UpdateProfileRoutingModule}),UpdateProfileRoutingModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||UpdateProfileRoutingModule)},imports:[[fesm2015_router.g.forChild(routes)],fesm2015_router.g]}),UpdateProfileRoutingModule})();__webpack_require__.d(__webpack_exports__,\"UpdateProfileModule\",(function(){return update_profile_module_UpdateProfileModule}));let update_profile_module_UpdateProfileModule=(()=>{class UpdateProfileModule{}return UpdateProfileModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:UpdateProfileModule}),UpdateProfileModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||UpdateProfileModule)},imports:[[common.c,update_profile_routing_module_UpdateProfileRoutingModule,fesm2015_forms.i,fesm2015_forms.w]]}),UpdateProfileModule})()}}]);","extractedComments":[]}