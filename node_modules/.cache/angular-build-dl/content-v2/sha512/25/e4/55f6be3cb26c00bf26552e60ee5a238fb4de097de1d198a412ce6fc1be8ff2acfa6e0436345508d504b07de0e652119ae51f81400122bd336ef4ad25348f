(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{begV:function(e,t,n){"use strict";n.r(t);var o=n("ofXK"),r=n("tyNb"),i=n("2hxB");class a{}var l=n("tk/3"),s=n("fXoL"),c=n("gg15"),d=n("IRyT"),m=n("R6a7"),f=n("3Pt+");const p=[{path:"update-profile",component:(()=>{class e{constructor(e,t,n,o,r){this.router=e,this.getAccessTokenFromLocalStorage=t,this.srvAccountService=n,this.srvEndpointFactory=o,this.srvLocalStoragefactory=r,this.getProfileInformation=()=>{this.srvAccountService.getUserProfileInfoEndpoint(this.access_token).subscribe(e=>{this.objUser=e.response.data})},this.objUser=new i.a,this.objUpdateProfile=new a}ngOnInit(){this.getProfileInformation(),this.access_token=this.getAccessTokenFromLocalStorage.getTokenFromLocalStorage()}Update(){let e=new l.f;e=e.set("first_name",this.objUpdateProfile.first_name),e=e.set("last_name",this.objUpdateProfile.last_name),e=e.set("picture",this.objUpdateProfile.picture),e=e.set("user_id",this.objUser.user_id),this.srvAccountService.updateUserProfileEndpoint(this.objUpdateProfile.first_name,this.objUpdateProfile.last_name,this.objUpdateProfile.picture,"Bearer "+this.access_token).subscribe(e=>{alert("profile updated"),this.router.navigate(["/"])},e=>{JSON.stringify(e)})}handleFileSelect(e){var t=e.target.files,n=t[0];if(t&&n){var o=new FileReader;o.onload=this._handleReaderLoaded.bind(this),o.readAsBinaryString(n)}}_handleReaderLoaded(e){this.objUpdateProfile.picture=btoa(e.target.result)}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](r.c),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-update-profile"]],decls:19,vars:2,consts:[[1,"login-form"],["action","/examples/actions/confirmation.php","method","post"],[1,"text-center","fontstyle"],[1,"form-group","fontstyle"],["type","text","name","Fname","placeholder","FirstName","required","required",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","Lname","placeholder","LastName","required","required",1,"form-control",3,"ngModel","ngModelChange"],["type","file",3,"change"],["type","submit",1,"btn","btn-primary","btn-block",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"form",1),s["\u0275\u0275elementStart"](2,"h2",2),s["\u0275\u0275text"](3,"Update Profile"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",3),s["\u0275\u0275elementStart"](5,"label"),s["\u0275\u0275text"](6,"First Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"input",4),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.objUpdateProfile.first_name=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",3),s["\u0275\u0275elementStart"](9,"label"),s["\u0275\u0275text"](10,"Last Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"input",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.objUpdateProfile.last_name=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",3),s["\u0275\u0275elementStart"](13,"label"),s["\u0275\u0275text"](14,"Choose Image"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"input",6),s["\u0275\u0275listener"]("change",(function(e){return t.handleFileSelect(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",3),s["\u0275\u0275elementStart"](17,"button",7),s["\u0275\u0275listener"]("click",(function(){return t.Update()})),s["\u0275\u0275text"](18,"Update"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngModel",t.objUpdateProfile.first_name),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.objUpdateProfile.last_name))},directives:[f.C,f.o,f.p,f.b,f.x,f.n,f.q],styles:[".btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#28a745!important;border-color:#28a745!important}.login-form[_ngcontent-%COMP%]{width:340px;margin:50px auto}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:15px;background:#f7f7f7;box-shadow:0 2px 2px rgba(0,0,0,.3);padding:30px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{min-height:38px;border-radius:2px}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-family:Gilroy-Medium}.btn[_ngcontent-%COMP%]{font-size:15px;font-weight:700}[_ngcontent-%COMP%]::-webkit-input-placeholder{font-family:Gilroy-Medium;color:#333;font-size:1.05rem}.fontstyle[_ngcontent-%COMP%]{font-family:Gilroy-Medium}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.g.forChild(p)],r.g]}),e})();n.d(t,"UpdateProfileModule",(function(){return u}));let u=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,g,f.i,f.w]]}),e})()}}]);