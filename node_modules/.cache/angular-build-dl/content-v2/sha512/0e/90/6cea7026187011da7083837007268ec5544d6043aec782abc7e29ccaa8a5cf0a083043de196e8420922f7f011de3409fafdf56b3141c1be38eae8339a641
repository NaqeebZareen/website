{"version":3,"sources":["./src/app/components/user-profile/profile/profile.component.ts","./src/app/components/user-profile/profile/profile.component.html","./src/app/components/user-profile/user-profile-module/user-profile-routing.module.ts","./src/app/components/user-profile/user-profile-module/user-profile.module.ts"],"names":[],"mappings":"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","file":"components-user-profile-user-profile-module-user-profile-module-es2015.js","sourcesContent":["import { Component, OnInit, AfterContentChecked, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { JwtHelper } from 'src/app/services/jwtHelper/jwt-helper.service';\nimport { LoggingService } from 'src/app/services/loggingFactory/logging-service.service';\nimport { LocalStorageFactoryService } from 'src/app/services/localStorageFactory/local-storage-factory.service';\nimport { ActivityService } from 'src/app/services/activityFactory/activity.service';\nimport { IEventLog } from 'src/app/models/event-log';\nimport { Subject } from 'rxjs';\nimport { DBkeys } from 'src/app/services/dbkeys/db-keys';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent implements OnInit, AfterContentChecked, OnDestroy {\n\n  // ... props ....\n  public page: string;\n  public controller: string;\n  public objIEventLog: IEventLog;\n  public userProfilePic: any;\n  public userId: string;\n  public userEmail: string;\n  public userName: string;\n  // subject to unsubscibe from obserable\n  public unsubscribe = new Subject<void>();\n\n  constructor(private activatedroute: ActivatedRoute, private router: Router, private srvJwthelperService: JwtHelper,\n    private srvLoggingService: LoggingService, private srvLocalStorageFactory: LocalStorageFactoryService,\n    private srvActivityService: ActivityService, private _location: Location, ) {\n    this.objIEventLog = new IEventLog();\n  }\n\n  ngOnInit() {\n    var email = localStorage.getItem('email');\n    if (email === null) {\n      this.router.navigate(['/']);\n    }\n    this.controller = \"Profile component\"\n    this.page = this.router.url;\n    // get profile pic from localStorage \n    this.getUserProfilePic();\n    // current user Id\n    this.userId = this.getDataFromLocalStorage(DBkeys.USER_ID);\n    // userEmail ...\n    this.userEmail = this.getDataFromLocalStorage('email');\n    // userName ....\n    this.userName = this.getDataFromLocalStorage(DBkeys.USER_FIRSTNAME);\n    //  + ' ' + this.getDataFromLocalStorage(DBkeys.USER_LASTNAME);\n\n    var email = this.userEmail;\n    var name = email.substring(0, email.lastIndexOf(\"@\"));\n\n    if (this.userName === 'null') {\n      this.userName = name;\n    }\n  }\n  // get image if not then return default..\n  getUserProfilePic = () => {\n    this.userProfilePic = this.getDataFromLocalStorage(DBkeys.USER_PROFILE_PIC);\n    // console.log(this.userProfilePic, \"321\");\n    if (this.userProfilePic && this.userProfilePic != 'null') {\n      return this.userProfilePic;\n    } else {\n      return (this.userProfilePic =\n        '../../../../assets/Default.jpg');\n    }\n  }\n\n  // fuc to track user actions .\n  addEventLog = (action) => {\n    this.objIEventLog.user_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.USER_ID);\n    this.objIEventLog.user_ip = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.IP);\n    this.objIEventLog.action = action;\n    this.objIEventLog.category = 'button click';\n    this.objIEventLog.city = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.CITY);\n    this.objIEventLog.country = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.COUNTRY);\n    this.objIEventLog.controller = this.controller;\n    this.objIEventLog.session_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.SESSION_ID);\n    this.objIEventLog.page = this.page;\n\n    this.srvLoggingService.Event_SaveLogs(this.objIEventLog).pipe(takeUntil(this.unsubscribe)).subscribe(res => {\n\n    }, error => console.log(error));\n\n  }\n  // helper function ,instead of calling localStorage factory multiple time it will help to call once ,\n  // means we trying to remove duplicate code ..\n  getDataFromLocalStorage = (key) => {\n    return this.srvLocalStorageFactory.getfromLocalStorage(key);\n  }\n  // you have to tell angular that you updated the content after ngAfterContentChecked you can\n  // else we will get error ExpressionChangedAfterItHasBeenCheckedError: if we call fuc not in ngafterC\n  ngAfterContentChecked(): void {\n    this.userProfilePic = this.getUserProfilePic();\n  }\n  // navigate to update-profile page\n  navigateToUpdateProfilePage = () => {\n    this.router.navigate(['/update-profile']);\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n}\n","<div class=\"container-fluid f-bg pt-5\">\n  <div class=\"col-sm-11 mx-auto\">\n    <div class=\"row\">\n      <div class=\"col-lg-3 col-sm-12 mb-4 f-radius\">\n        <div class=\"card mx-auto\">\n          <img class=\"card-img-top \" [src]=\"userProfilePic\" class=\"profile-pic\" alt=\"profilepic\">\n          <div class=\"card-body\" style=\"text-align: center;\">\n            <h4 class=\"card-title\">{{userName}}</h4>\n            <p class=\"card-text\">{{userEmail}}</p>\n            <button class=\"btn btn-sm edit-btn\" style=\"color:white;\" (click)=\"navigateToUpdateProfilePage()\">Edit\n              profile</button>\n          </div>\n          <div class=\"card-body\">\n\n          </div>\n        </div>\n      </div>\n      <div class=\"col-lg-9 col-sm-12\">\n        <nav class=\"navbar navbar-expand-sm shadow\" style=\"background-color: #fff;\">\n          <ul class=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n            <li class=\"nav-item\">\n              <a class=\"nav-link \" routerLinkActive=\"nav-item-active\" [routerLink]=\"['wish-list']\">Wishlist </a>\n            </li>\n            <!-- <li class=\"nav-item\">\n              <a class=\"nav-link\" routerLinkActive=\"nav-item-active\" [routerLink]=\"['host-activities']\">Hosted\n                Acitivites</a>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link\" routerLinkActive=\"nav-item-active\" [routerLink]=\"['join-activities']\">Joined </a>\n            </li> -->\n          </ul>\n        </nav>\n        <div class=\"mt-5 shadow\">\n          <router-outlet></router-outlet>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ProfileComponent } from '../profile/profile.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfileComponent,\n    children: [\n      { path: '', redirectTo: 'wish-list' },\n      {\n        path: 'wish-list', loadChildren: () => import('../../user-profile/wishlist/wishlist-module/wishlist.module')\n          .then(m => m.WishlistModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UserProfileRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UserProfileRoutingModule } from './user-profile-routing.module';\nimport { ProfileComponent } from '../profile/profile.component';\n\n@NgModule({\n  declarations: [ProfileComponent],\n  imports: [\n    CommonModule,\n    UserProfileRoutingModule\n  ]\n})\nexport class UserProfileModule { }\n"],"sourceRoot":"webpack:///"}