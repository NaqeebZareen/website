{"version":3,"sources":["webpack:///src/app/shared/wishList-card/wishList-card-module/wishList-card-routing.module.ts","webpack:///src/app/shared/wishList-card/wishList-card-module/wishList-card.module.ts","webpack:///src/app/shared/listingcard/listingcard-module/listingcard-routing.module.ts","webpack:///src/app/shared/listingcard/listingcard-module/listingcard.module.ts","webpack:///src/app/shared/listingcard/listingcard.component.ts","webpack:///src/app/shared/listingcard/listingcard.component.html","webpack:///src/app/shared/wishList-card/wishList-card.component.ts","webpack:///src/app/shared/wishList-card/wishList-card.component.html"],"names":["routes","WishListCardRoutingModule","forChild","WishListCardModule","ListingcardRoutingModule","ListingcardModule","ListingcardComponent","socialAuthService","srvJwthelperService","srvLoggingService","srvLocalStorageFactory","router","srvActivityService","shareObj","href","this","url1","hashtag","unsubscribe","addToWishList","isLogin","verifyToken","localStorage","getItem","objAddToWishList","activity_id","activity","id","is_wishlist","is_hosting","show","addToWishlistEndpointDelete","pipe","subscribe","res","error","addToWishlistEndpoint","addEventLog","navigate","getUserProfilePic","picture","action","objIEventLog","user_id","getfromLocalStorage","USER_ID","user_ip","IP","category","city","CITY","country","COUNTRY","controller","session_id","SESSION_ID","page","Event_SaveLogs","console","log","IsPropertyExist","undefined","mover","urlCategory","urltitle","facebookSharing","url","activityStartTime","start_time","format","activityTimePeriods","title","split","slice","join","next","complete","WishListCardComponent","saved","goToLink","source_link","source","window","open"],"mappings":"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","file":"x","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class WishListCardRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { WishListCardRoutingModule } from './wishList-card-routing.module';\nimport { WishListCardComponent } from '../wishList-card.component';\n\n@NgModule({\n  declarations: [WishListCardComponent],\n  imports: [\n    CommonModule,\n    WishListCardRoutingModule\n  ],\n  exports: [WishListCardComponent]\n})\nexport class WishListCardModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ListingcardRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ListingcardRoutingModule } from './listingcard-routing.module';\nimport { ListingcardComponent } from '../listingcard.component'\nimport { from } from 'rxjs';\n\n@NgModule({\n  declarations: [ListingcardComponent],\n  imports: [\n    CommonModule,\n    ListingcardRoutingModule\n  ]\n  ,\n  exports: [ListingcardComponent]\n})\nexport class ListingcardModule { }\n","\nimport {\n  Component,\n  OnInit,\n  Input,\n  OnDestroy,\n  AfterContentChecked\n} from '@angular/core';\nimport { PopularActivity } from 'src/app/models/popular-activity';\nimport * as moment from 'moment';\nimport { IEventLog } from 'src/app/models/event-log';\nimport { Subject } from 'rxjs';\nimport { JwtHelper } from 'src/app/services/jwtHelper/jwt-helper.service';\nimport { LoggingService } from 'src/app/services/loggingFactory/logging-service.service';\nimport { LocalStorageFactoryService } from 'src/app/services/localStorageFactory/local-storage-factory.service';\nimport { Router } from '@angular/router';\nimport { DBkeys } from 'src/app/services/dbkeys/db-keys';\nimport { takeUntil } from 'rxjs/operators';\nimport { IAddToWishList } from 'src/app/models/api-request-model/add-to-wish-list';\nimport { ActivityService } from 'src/app/services/activityFactory/activity.service';\nimport {\n  SocialService,\n  FacebookLoginProvider,\n  GoogleLoginProvider\n} from \"ngx-social-button\";\n@Component({\n  selector: 'app-listingcard',\n  templateUrl: './listingcard.component.html',\n  styleUrls: ['./listingcard.component.css']\n})\nexport class ListingcardComponent implements OnInit, OnDestroy, AfterContentChecked {\n\n  public show: boolean;\n  public activityStartTime: string;\n  public activityTimePeriods: string;\n  public page: string;\n  public controller: string;\n  public objIEventLog: IEventLog;\n  public objAddToWishList: IAddToWishList;\n  // subject to unsubscibe from obserable\n  public url1: any;\n  public shareObj = {\n    href: this.url1,\n    hashtag: \"#YOUCAN\"\n  };\n  public url: any;\n\n  public unsubscribe = new Subject<void>();\n  public urltitle: any;\n  public urlCategory: any;\n  constructor(private socialAuthService: SocialService, private srvJwthelperService: JwtHelper, private srvLoggingService: LoggingService, private srvLocalStorageFactory: LocalStorageFactoryService,\n    private router: Router, private srvActivityService: ActivityService) {\n    this.objIEventLog = new IEventLog();\n    this.objAddToWishList = new IAddToWishList();\n  }\n\n  public facebookSharing(shareObj: any) {\n    // console.log(shareObj, \"obj1\");\n\n\n    this.socialAuthService.facebookSharing(shareObj);\n  }\n  public twitterSharing(shareObj: any) {\n    // console.log(shareObj, \"obj1\");\n\n    this.socialAuthService.facebookSharing(shareObj);\n  }\n  @Input() activity: PopularActivity;\n\n  ngOnInit() {\n    // console.log(this.activity);\n    // var str = this.activity.picture;\n    // var strFirstThree = str.substring(0, 3);\n\n    // // console.log(str); //shows '012123'\n    // // console.log(strFirstThree);\n    // if (strFirstThree === \"?v=\") {\n    //   this.activity.picture = null;\n    // }\n    // console.log(this.activity);\n    if (this.activity.id === \"923398\") {\n      // console.log(this.activity.end_date);\n    }\n    this.controller = \"PopularCard\"\n    this.page = this.page = this.router.url;\n    // call to IsPropertyExist to check whather to hide or show image\n    this.IsPropertyExist();\n    this.activityStartTime = moment(this.activity.start_time, 'HH:mm').format('h:mm');\n    this.activityTimePeriods = moment(this.activity.start_time, 'HH:mm').format('A');\n\n    // this.activity.is_wishlist = true;\n\n    this.url1 = \"https://www.youcan.tech/#/activity-details/\" + this.activity.id;\n    this.url = \"https://www.youcan.tech/%23/activity-details/\" + this.activity.id;\n    // console.log(this.page);\n    // this.myTitle = \"/activity-details/851965/false\";\n    // console.log(this.url);\n\n    this.shareObj.href = this.url1;\n    // this.shareObjTwitter.href = this.url;\n    this.urltitle = this.activity.title.split(' ').slice(0, 4).join('-');\n    this.urlCategory = this.activity.category.split(' ').join('-');\n    if (this.activity.id === \"941009\") {\n      // console.log(this.activity);\n    }\n  }\n\n  // updateUrl(event) {\n  //   // console.log(event, this.activity.id, this.activity.title);\n  //   this.activity.picture = '../../../assets/list_img.png';\n  // }\n  // add to wish list .. \n  // here is problem in this api call \n\n  addToWishList = () => {\n\n    const isLogin = this.srvJwthelperService.verifyToken();\n    const email = localStorage.getItem('email');\n    if (isLogin) {\n      this.objAddToWishList.activity_id = this.activity.id;\n      this.objAddToWishList.is_wishlist = this.activity.is_wishlist;\n      this.objAddToWishList.is_hosting = this.activity.is_hosting;\n\n\n\n      if (this.activity.is_wishlist) {\n        // remove from wish list if wishlisted\n\n        this.show = false;\n        this.srvActivityService.addToWishlistEndpointDelete(this.activity.id).pipe(takeUntil(this.unsubscribe))\n          .subscribe(res => {\n\n            this.show = false;\n            this.activity.is_wishlist = false;\n          }, error => {\n            this.activity.is_wishlist = true;\n            this.show = false;\n          });\n      } else {\n        // add to wish list \n        this.show = true;\n\n        this.objAddToWishList.is_wishlist = true;\n        this.srvActivityService.addToWishlistEndpoint(this.activity.id).pipe(takeUntil(this.unsubscribe))\n          .subscribe(res => {\n\n            this.show = true;\n            this.activity.is_wishlist = true;\n\n          }, error => {\n\n            this.activity.is_wishlist = false;\n            // console.log(\"error NQ\");\n            this.show = false;\n          });\n      }\n      // track user \n      this.addEventLog('add to wishlist')\n    } else {\n      this.show = false;\n      this.router.navigate([\"/login\"]);\n\n    }\n\n\n\n  }\n  // get image if not then return default..\n  getUserProfilePic = () => {\n    if (this.activity.picture) {\n      return this.activity.picture;\n    } else {\n      return (this.activity.picture =\n        '../../../assets/default-placeholder-300x300.png');\n    }\n  }\n\n  // fuc to track user actions .\n  addEventLog = (action) => {\n    this.objIEventLog.user_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.USER_ID);\n    this.objIEventLog.user_ip = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.IP);\n    this.objIEventLog.action = action;\n    this.objIEventLog.category = 'button click';\n    this.objIEventLog.city = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.CITY);\n    this.objIEventLog.country = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.COUNTRY);\n    this.objIEventLog.controller = this.controller;\n    this.objIEventLog.session_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.SESSION_ID);\n    this.objIEventLog.page = this.page;\n\n    this.srvLoggingService.Event_SaveLogs(this.objIEventLog).pipe(takeUntil(this.unsubscribe)).subscribe(res => {\n\n    }, error => console.log(error));\n\n  }\n  // if user not login we will get object without is_wishlist property so for that reason we check if not exist so that we\n  // take descion whether to hide or show wishlist image\n  IsPropertyExist = () => {\n    if (this.activity.is_wishlist == undefined) {\n      if (this.activity['is_wishlist']) {\n        this.show = true;\n      } else {\n        this.show = false;\n      }\n    } else {\n      this.show = false;\n    }\n  }\n  // you have to tell angular that you updated the content after ngAfterContentChecked you can\n  // else we will get error ExpressionChangedAfterItHasBeenCheckedError: if we call fuc not in ngafterC\n  ngAfterContentChecked(): void {\n    // this.activity.picture = this.getUserProfilePic();\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  mover = () => {\n    this.router.navigate(['activity-details', this.urlCategory, this.urltitle, this.activity.id]);\n  }\n\n}\n","<div class=\"row ml-1 mr-1 mb-4 main-wrapper \">\n\n  <div class=\"col-12 section-first p-0\">\n    <!-- [routerLink]=\"['activity-details', urlCategory, urltitle,activity.id]\" -->\n    <a (click)=\"mover()\">\n      <img [src]=\"activity.picture\" class=\"image\" alt=\"activity\"></a>\n\n\n  </div>\n\n  <div class=\"col-12 section-second \">\n    <div class=\"row\">\n      <div class=\"col-2 spc\">\n        <span style=\"color: #466ce4;font-weight: bold;\">{{ activity.end_date | date: ' MMM' }}</span>\n\n        <span class=\"spc1\" style=\"\">\n          {{ activity.end_date | date: 'dd' }}</span>\n      </div>\n      <div class=\"col-10\">\n\n        <div class=\"title hi\">\n          <a class=\"hi1\" (click)=\"mover()\">\n            {{ activity.title | slice: 0:22 }}...\n          </a>\n        </div>\n\n        <div class=\"title spc2\" style=\"\">\n\n          <a style=\"text-decoration: none;\" (click)=\"mover()\">\n            {{ activity.title | slice: 0:50 }}\n          </a>\n\n        </div>\n        <div class=\"date fin2\" style=\"\">\n          {{ activity.end_date | date: 'EEEE' }} , <span>{{activityStartTime}}: {{activityTimePeriods}}</span>\n          <!-- <span *ngIf=\"!this.activity.is_free\">paid</span> -->\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row\" style=\"margin-top: 10px;\">\n      <div class=\"col-12\">\n        <!-- <img src=\"../../../assets/searchPlace.svg\" alt=\"search\" width=\"20px\">\n        <span class=\"ml-2\">{{ activity.city }}</span> -->\n        <hr style=\"margin-bottom: 3px;opacity: 0.3; color: #EEEBF2;\">\n        <div class=\"row no-gutters\" style=\"height: 55px;\">\n          <div class=\"col-6\">\n            <div class=\"abc\" style=\"\">\n              <img src=\"../../../assets/Website_Icons/source.png\" alt=\"Avatar\" class=\"image1\">\n              <div class=\"overlay\">\n                <div class=\"text\">\n                  <a class=\"text new\" style=\"padding-left: 30px; width: 90px; color: black;height: 20px;\"\n                    href=\"{{activity.source_link}}\">{{activity.source_link}}</a>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-6\">\n\n            <div class=\"abc1\">\n              <a style=\"cursor:pointer;\" (click)=\"addToWishList()\">\n                <span style=\"padding-right: 25px; cursor: pointer;\">\n                  <img *ngIf=\"activity.is_wishlist === false\" src=\"../../../assets/Website_Icons/starred.png\" alt=\"\"\n                    width=\"28px\">\n                  <img *ngIf=\"activity.is_wishlist === true\" src=\"../../../assets/Website_Icons/star_selected.svg\"\n                    alt=\"\" width=\"28px\">\n                </span>\n              </a>\n\n              <span class=\"dropdown-toggle wid\" data-toggle=\"dropdown\" Dropdown button>\n                <img style=\"cursor: pointer;\" src=\"../../../assets/Website_Icons/shared.png\" alt=\"\" width=\"28px\"></span>\n\n              <div class=\"dropdown-menu\" style=\"min-width: 12rem;\">\n\n                <button class=\"fa fa-facebook\" (click)=\"facebookSharing(shareObj)\"> </button>\n\n                <a class=\"fa fa-twitter\" href=\"https://twitter.com/intent/tweet?url={{url}}\">\n                </a>\n\n\n                <a href=\"https://www.linkedin.com/shareArticle?mini=true&url={{url}}&title=YOUCANACTIVITY&summary=YourarticleSummary&source=YourarticleSource\"\n                  class=\"fa fa-linkedin\"></a>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>","import {\n  Component,\n  OnInit,\n  Input,\n  OnDestroy,\n  AfterContentChecked\n} from '@angular/core';\nimport { PopularActivity } from 'src/app/models/popular-activity';\nimport * as moment from 'moment';\nimport { IEventLog } from 'src/app/models/event-log';\nimport { Subject } from 'rxjs';\nimport { JwtHelper } from 'src/app/services/jwtHelper/jwt-helper.service';\nimport { LoggingService } from 'src/app/services/loggingFactory/logging-service.service';\nimport { LocalStorageFactoryService } from 'src/app/services/localStorageFactory/local-storage-factory.service';\nimport { Router } from '@angular/router';\nimport { DBkeys } from 'src/app/services/dbkeys/db-keys';\nimport { takeUntil } from 'rxjs/operators';\nimport { IAddToWishList } from 'src/app/models/api-request-model/add-to-wish-list';\nimport { ActivityService } from 'src/app/services/activityFactory/activity.service';\nimport { IActivity } from 'src/app/models/activity';\nimport { SocialService } from 'ngx-social-button';\n\n@Component({\n  selector: 'app-wish-list-card',\n  templateUrl: './wishList-card.component.html',\n  styleUrls: ['./wishList-card.component.css']\n})\nexport class WishListCardComponent\n  implements OnInit, OnDestroy, AfterContentChecked {\n\n  public show: boolean;\n  public activityStartTime: string;\n  public activityTimePeriods: string;\n  public page: string;\n  public controller: string;\n  public objIEventLog: IEventLog;\n  public objAddToWishList: IAddToWishList;\n  // subject to unsubscibe from obserable\n  public url1: any;\n  public shareObj = {\n    href: this.url1,\n    hashtag: \"#YOUCAN\"\n  };\n  public url: any;\n\n  public unsubscribe = new Subject<void>();\n  public urltitle: any;\n  public urlCategory: any;\n  constructor(private socialAuthService: SocialService, private srvJwthelperService: JwtHelper, private srvLoggingService: LoggingService, private srvLocalStorageFactory: LocalStorageFactoryService,\n    private router: Router, private srvActivityService: ActivityService) {\n    this.objIEventLog = new IEventLog();\n    this.objAddToWishList = new IAddToWishList();\n  }\n\n  public facebookSharing(shareObj: any) {\n    this.socialAuthService.facebookSharing(shareObj);\n  }\n  public twitterSharing(shareObj: any) {\n    // console.log(shareObj, \"obj1\");\n\n    this.socialAuthService.facebookSharing(shareObj);\n  }\n  @Input() activity: PopularActivity;\n\n  ngOnInit() {\n    // console.log(this.activity);\n    // console.log(this.activity.is_wishlist);\n    if (this.activity.saved === undefined || this.activity.saved === null) {\n      this.activity.saved = false;\n    }\n    if (this.activity.source_link === undefined) {\n      this.activity.source_link = this.activity.source;\n      // console.log(this.activity.source_link, \"in\");\n    }\n\n\n\n    if (this.activity.id === \"923398\") {\n      // console.log(this.activity.end_date);\n    }\n    this.controller = \"PopularCard\"\n    this.page = this.page = this.router.url;\n    // call to IsPropertyExist to check whather to hide or show image\n    this.IsPropertyExist();\n    this.activityStartTime = moment(this.activity.start_time, 'HH:mm').format('h:mm');\n    this.activityTimePeriods = moment(this.activity.start_time, 'HH:mm').format('a');\n\n    // this.activity.is_wishlist = true;\n\n    this.url1 = \"https://www.youcan.tech/activity-details/\" + this.activity.id;\n    this.url = \"https://www.youcan.tech/activity-details/\" + this.activity.id;\n    // console.log(this.page);\n    // this.myTitle = \"/activity-details/851965/false\";\n    // console.log(this.url);\n\n    this.shareObj.href = this.url1;\n    // this.shareObjTwitter.href = this.url;\n    this.urltitle = this.activity.title.split(' ').slice(0, 4).join('-');\n    this.urlCategory = this.activity.category.split(' ').join('-');\n    if (this.activity.id === \"941009\") {\n      // console.log(this.activity);\n    }\n  }\n\n  // updateUrl(event) {\n  //   // console.log(event, this.activity.id, this.activity.title);\n  //   this.activity.picture = '../../../assets/list_img.png';\n  // }\n  // add to wish list .. \n  // here is problem in this api call \n\n  addToWishList = () => {\n\n    const isLogin = this.srvJwthelperService.verifyToken();\n    const email = localStorage.getItem('email');\n    if (isLogin) {\n      this.objAddToWishList.activity_id = this.activity.id;\n      this.objAddToWishList.is_wishlist = this.activity.is_wishlist;\n      this.objAddToWishList.is_hosting = this.activity.is_hosting;\n\n\n      // console.log(this.activity.is_wishlist);\n      if (this.activity.saved) {\n        // remove from wish list if wishlisted\n\n        this.show = false;\n        this.srvActivityService.addToWishlistEndpointDelete(this.activity.id).pipe(takeUntil(this.unsubscribe))\n          .subscribe(res => {\n\n            this.show = false;\n            this.activity.saved = false;\n          }, error => {\n            this.activity.saved = true;\n            this.show = false;\n          });\n      } else {\n        // add to wish list \n        this.show = true;\n\n        this.objAddToWishList.is_wishlist = true;\n        this.srvActivityService.addToWishlistEndpoint(this.activity.id).pipe(takeUntil(this.unsubscribe))\n          .subscribe(res => {\n\n            this.show = true;\n            this.activity.saved = true;\n\n          }, error => {\n\n            this.activity.saved = false;\n            // console.log(\"error NQ\");\n            this.show = false;\n          });\n      }\n      // track user \n      this.addEventLog('add to wishlist')\n    } else {\n      this.show = false;\n      this.router.navigate([\"/login\"]);\n\n    }\n\n\n\n  }\n  // get image if not then return default..\n  getUserProfilePic = () => {\n    if (this.activity.picture) {\n      return this.activity.picture;\n    } else {\n      return (this.activity.picture =\n        '../../../assets/default-placeholder-300x300.png');\n    }\n  }\n\n  // fuc to track user actions .\n  addEventLog = (action) => {\n    this.objIEventLog.user_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.USER_ID);\n    this.objIEventLog.user_ip = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.IP);\n    this.objIEventLog.action = action;\n    this.objIEventLog.category = 'button click';\n    this.objIEventLog.city = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.CITY);\n    this.objIEventLog.country = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.COUNTRY);\n    this.objIEventLog.controller = this.controller;\n    this.objIEventLog.session_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.SESSION_ID);\n    this.objIEventLog.page = this.page;\n\n    this.srvLoggingService.Event_SaveLogs(this.objIEventLog).pipe(takeUntil(this.unsubscribe)).subscribe(res => {\n\n    }, error => console.log(error));\n\n  }\n  // if user not login we will get object without is_wishlist property so for that reason we check if not exist so that we\n  // take descion whether to hide or show wishlist image\n  IsPropertyExist = () => {\n    if (this.activity.is_wishlist == undefined) {\n      if (this.activity['is_wishlist']) {\n        this.show = true;\n      } else {\n        this.show = false;\n      }\n    } else {\n      this.show = false;\n    }\n  }\n  // you have to tell angular that you updated the content after ngAfterContentChecked you can\n  // else we will get error ExpressionChangedAfterItHasBeenCheckedError: if we call fuc not in ngafterC\n  ngAfterContentChecked(): void {\n    // this.activity.picture = this.getUserProfilePic();\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  mover = () => {\n    var url = this.router.url.slice(0, 17);\n    if (url === \"/activity-details\") {\n      // console.log(this.router['navigationId'], \"111\");\n      var send = 'https://www.youcan.tech/activity-details/' + this.urlCategory + '/' + this.urltitle + '/' + this.activity.id;\n      // console.log(send);\n      this.goToLink(send);\n    }\n    this.router.navigate(['/activity-details', this.urlCategory, this.urltitle, this.activity.id]);\n  }\n\n  goToLink(url: string) {\n    window.open(url, \"_blank\");\n  }\n}\n","<div class=\"row ml-1 mr-1 mb-4 main-wrapper \">\n\n  <div class=\"col-12 section-first p-0\">\n    <!-- [routerLink]=\"['activity-details', urlCategory, urltitle,activity.id]\" -->\n    <a (click)=\"mover()\" style=\" cursor: pointer;\">\n      <img [src]=\"activity.picture\" class=\"image\" alt=\"activity\"></a>\n\n\n  </div>\n\n  <div class=\"col-12 section-second \">\n    <div class=\"row\">\n      <div class=\"col-2 spc\">\n        <span style=\"color: #466ce4;\" class=\"dar\">{{ activity.end_date | date: ' MMM' }}</span>\n\n        <span class=\"spc1\" style=\"font-size: 14px;\n        color: #322941;\n        position: absolute;\n        top: 20px;\n        left: 20px;\" class=\"dar1\">\n          {{ activity.end_date | date: 'dd' }}</span>\n      </div>\n      <div class=\"col-10\">\n\n        <div class=\"title hi\">\n          <a class=\"hi1\" style=\" cursor: pointer;\" (click)=\"mover()\" target=\"_blank\">\n            {{ activity.title | slice: 0:22 }}...\n          </a>\n        </div>\n\n        <div class=\"title spc2\" style=\"\">\n\n          <a style=\"text-decoration: none; cursor: pointer; color: #ababab\" (click)=\"mover()\" target=\"_blank\">\n            {{ activity.title | slice: 0:40 }}...\n          </a>\n\n        </div>\n        <div class=\"date fin2\" style=\"\">\n          {{ activity.end_date | date: 'EEEE' }}, <span>{{activityStartTime}} {{activityTimePeriods}}</span>\n          <!-- <span *ngIf=\"!this.activity.is_free\">paid</span> -->\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row\" style=\"margin-top: 10px;\">\n      <hr style=\"\" class=\"line11\">\n      <div class=\"col-12\">\n\n\n        <div class=\"row no-gutters\" style=\"height: 55px;\">\n          <div class=\"col-6\">\n            <div class=\"abc\" style=\"\">\n              <img src=\"../../../assets/Website_Icons/source.png\" alt=\"Avatar\" class=\"image1\">\n              <div class=\"overlay\">\n                <div class=\"text\">\n                  <a class=\"text new\" style=\"padding-left: 30px; width: 90px; color: black;height: 20px;\"\n                    href=\"{{activity.source_link}}\">\n                    {{activity.source_link}}\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-6\">\n\n            <div class=\"abc1\">\n              <a style=\"cursor:pointer;\" (click)=\"addToWishList()\">\n                <span style=\"padding-right: 25px; cursor: pointer;\">\n                  <img *ngIf=\"activity.saved === false\" id=\"starred\" src=\"../../../assets/Website_Icons/starred.png\"\n                    alt=\"\" width=\"28px\">\n                  <img *ngIf=\"activity.saved === true\" id=\"selected\"\n                    src=\"../../../assets/Website_Icons/star_selected.svg\" alt=\"\" width=\"28px\">\n                </span>\n              </a>\n\n              <span class=\"dropdown-toggle wid\" data-toggle=\"dropdown\" Dropdown button>\n                <img style=\"cursor: pointer;\" id=\"share\" src=\"../../../assets/Website_Icons/shared.png\" alt=\"\"\n                  width=\"28px\"></span>\n\n              <div class=\"dropdown-menu\" style=\"min-width: 9rem;padding-left: 10px;\">\n\n                <button style=\"border: none; background: none; box-shadow: none !important;outline: none !important;\"\n                  class=\"\" (click)=\"facebookSharing(shareObj)\">\n                  <img src=\"../../../assets/Website_Icons/fb.png\" width=\"30px\" alt=\"\">\n                </button>\n\n                <a style=\"padding-left: 5px;\" class=\"\" href=\"https://twitter.com/intent/tweet?url={{url}}\">\n                  <img src=\"../../../assets/Website_Icons/in.png\" width=\"30px\" alt=\"\">\n                </a>\n\n\n                <a href=\"https://www.linkedin.com/shareArticle?mini=true&url={{url}}&title=YOUCANACTIVITY&summary=YourarticleSummary&source=YourarticleSource\"\n                  class=\"\" style=\"padding-left: 15px; \">\n                  <img src=\"../../../assets/Website_Icons/ln.png\" width=\"30px\" alt=\"\">\n                </a>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>"]}