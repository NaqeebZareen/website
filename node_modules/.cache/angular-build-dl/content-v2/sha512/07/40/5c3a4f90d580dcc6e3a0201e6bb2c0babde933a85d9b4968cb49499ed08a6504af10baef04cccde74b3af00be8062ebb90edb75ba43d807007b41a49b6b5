{"version":3,"sources":["webpack:///src/app/components/user-profile/profile/profile.component.ts","webpack:///src/app/components/user-profile/profile/profile.component.html","webpack:///src/app/components/user-profile/user-profile-module/user-profile-routing.module.ts","webpack:///src/app/components/user-profile/user-profile-module/user-profile.module.ts"],"names":["ProfileComponent","activatedroute","router","srvJwthelperService","srvLoggingService","srvLocalStorageFactory","srvActivityService","_location","unsubscribe","getUserProfilePic","userProfilePic","getDataFromLocalStorage","USER_PROFILE_PIC","addEventLog","action","objIEventLog","user_id","getfromLocalStorage","USER_ID","user_ip","IP","category","city","CITY","country","COUNTRY","controller","session_id","SESSION_ID","page","Event_SaveLogs","pipe","subscribe","res","error","console","log","key","navigateToUpdateProfilePage","navigate","email","localStorage","getItem","url","userId","userEmail","userName","USER_FIRSTNAME","name","substring","lastIndexOf","next","complete","selector","templateUrl","styleUrls","routes","path","component","children","redirectTo","loadChildren","then","m","WishlistModule","UserProfileRoutingModule","forChild","imports","exports","UserProfileModule","declarations"],"mappings":"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","file":"components-user-profile-user-profile-module-user-profile-module-es5.js","sourcesContent":["import { Component, OnInit, AfterContentChecked, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { JwtHelper } from 'src/app/services/jwtHelper/jwt-helper.service';\nimport { LoggingService } from 'src/app/services/loggingFactory/logging-service.service';\nimport { LocalStorageFactoryService } from 'src/app/services/localStorageFactory/local-storage-factory.service';\nimport { ActivityService } from 'src/app/services/activityFactory/activity.service';\nimport { IEventLog } from 'src/app/models/event-log';\nimport { Subject } from 'rxjs';\nimport { DBkeys } from 'src/app/services/dbkeys/db-keys';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent implements OnInit, AfterContentChecked, OnDestroy {\n\n  // ... props ....\n  public page: string;\n  public controller: string;\n  public objIEventLog: IEventLog;\n  public userProfilePic: any;\n  public userId: string;\n  public userEmail: string;\n  public userName: string;\n  // subject to unsubscibe from obserable\n  public unsubscribe = new Subject<void>();\n\n  constructor(private activatedroute: ActivatedRoute, private router: Router, private srvJwthelperService: JwtHelper,\n    private srvLoggingService: LoggingService, private srvLocalStorageFactory: LocalStorageFactoryService,\n    private srvActivityService: ActivityService, private _location: Location, ) {\n    this.objIEventLog = new IEventLog();\n  }\n\n  ngOnInit() {\n    var email = localStorage.getItem('email');\n    if (email === null) {\n      this.router.navigate(['/']);\n    }\n    this.controller = \"Profile component\"\n    this.page = this.router.url;\n    // get profile pic from localStorage \n    this.getUserProfilePic();\n    // current user Id\n    this.userId = this.getDataFromLocalStorage(DBkeys.USER_ID);\n    // userEmail ...\n    this.userEmail = this.getDataFromLocalStorage('email');\n    // userName ....\n    this.userName = this.getDataFromLocalStorage(DBkeys.USER_FIRSTNAME);\n    //  + ' ' + this.getDataFromLocalStorage(DBkeys.USER_LASTNAME);\n\n    var email = this.userEmail;\n    var name = email.substring(0, email.lastIndexOf(\"@\"));\n\n    if (this.userName === 'null') {\n      this.userName = name;\n    }\n  }\n  // get image if not then return default..\n  getUserProfilePic = () => {\n    this.userProfilePic = this.getDataFromLocalStorage(DBkeys.USER_PROFILE_PIC);\n    // console.log(this.userProfilePic, \"321\");\n    if (this.userProfilePic && this.userProfilePic != 'null') {\n      return this.userProfilePic;\n    } else {\n      return (this.userProfilePic =\n        '../../../../assets/Default.jpg');\n    }\n  }\n\n  // fuc to track user actions .\n  addEventLog = (action) => {\n    this.objIEventLog.user_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.USER_ID);\n    this.objIEventLog.user_ip = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.IP);\n    this.objIEventLog.action = action;\n    this.objIEventLog.category = 'button click';\n    this.objIEventLog.city = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.CITY);\n    this.objIEventLog.country = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.COUNTRY);\n    this.objIEventLog.controller = this.controller;\n    this.objIEventLog.session_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.SESSION_ID);\n    this.objIEventLog.page = this.page;\n\n    this.srvLoggingService.Event_SaveLogs(this.objIEventLog).pipe(takeUntil(this.unsubscribe)).subscribe(res => {\n\n    }, error => console.log(error));\n\n  }\n  // helper function ,instead of calling localStorage factory multiple time it will help to call once ,\n  // means we trying to remove duplicate code ..\n  getDataFromLocalStorage = (key) => {\n    return this.srvLocalStorageFactory.getfromLocalStorage(key);\n  }\n  // you have to tell angular that you updated the content after ngAfterContentChecked you can\n  // else we will get error ExpressionChangedAfterItHasBeenCheckedError: if we call fuc not in ngafterC\n  ngAfterContentChecked(): void {\n    this.userProfilePic = this.getUserProfilePic();\n  }\n  // navigate to update-profile page\n  navigateToUpdateProfilePage = () => {\n    this.router.navigate(['/update-profile']);\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n}\n","<div class=\"container-fluid f-bg pt-5\">\n  <div class=\"col-sm-11 mx-auto\">\n    <div class=\"row\">\n      <div class=\"col-lg-3 col-sm-12 mb-4 f-radius\">\n        <div class=\"card mx-auto\">\n          <img class=\"card-img-top \" [src]=\"userProfilePic\" class=\"profile-pic\" alt=\"profilepic\">\n          <div class=\"card-body\" style=\"text-align: center;\">\n            <h4 class=\"card-title\">{{userName}}</h4>\n            <p class=\"card-text\">{{userEmail}}</p>\n            <button class=\"btn btn-sm edit-btn\" style=\"color:white;\" (click)=\"navigateToUpdateProfilePage()\">Edit\n              profile</button>\n          </div>\n          <div class=\"card-body\">\n\n          </div>\n        </div>\n      </div>\n      <div class=\"col-lg-9 col-sm-12\">\n        <nav class=\"navbar navbar-expand-sm shadow\" style=\"background-color: #fff;\">\n          <ul class=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n            <li class=\"nav-item\">\n              <a class=\"nav-link \" routerLinkActive=\"nav-item-active\" [routerLink]=\"['wish-list']\">Wishlist </a>\n            </li>\n            <!-- <li class=\"nav-item\">\n              <a class=\"nav-link\" routerLinkActive=\"nav-item-active\" [routerLink]=\"['host-activities']\">Hosted\n                Acitivites</a>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link\" routerLinkActive=\"nav-item-active\" [routerLink]=\"['join-activities']\">Joined </a>\n            </li> -->\n          </ul>\n        </nav>\n        <div class=\"mt-5 shadow\">\n          <router-outlet></router-outlet>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ProfileComponent } from '../profile/profile.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfileComponent,\n    children: [\n      { path: '', redirectTo: 'wish-list' },\n      {\n        path: 'wish-list', loadChildren: () => import('../../user-profile/wishlist/wishlist-module/wishlist.module')\n          .then(m => m.WishlistModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UserProfileRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UserProfileRoutingModule } from './user-profile-routing.module';\nimport { ProfileComponent } from '../profile/profile.component';\n\n@NgModule({\n  declarations: [ProfileComponent],\n  imports: [\n    CommonModule,\n    UserProfileRoutingModule\n  ]\n})\nexport class UserProfileModule { }\n"]}