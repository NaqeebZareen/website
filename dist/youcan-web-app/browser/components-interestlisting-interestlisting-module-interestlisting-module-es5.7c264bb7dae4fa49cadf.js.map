{"version":3,"sources":["webpack:///src/app/components/interestlisting/interestlisting.component.html","webpack:///src/app/components/interestlisting/interestlisting-module/interestlisting-routing.module.ts","webpack:///src/app/components/interestlisting/interestlisting.component.ts","webpack:///src/app/components/interestlisting/interestlisting-module/interestlisting.module.ts"],"names":["InterestlistingComponent","InterestlistingRoutingModule","routes","path","component","doc","srvAccountService","meta","title","seoService","activatedroute","srvJwthelperService","srvLoggingService","srvLocalStorageFactory","router","srvActivityService","newlyAddedList","show","unsubscribe","Subject","activitiesName","sports","music","adventure","family","health","business","tourism","autos","gaming","arts","fashion","tech","food","politics","charity","navigateToSearchPage","this","navigate","moveToCityListing","city","split","join","url","addEventLog","action","objIEventLog","user_id","getfromLocalStorage","USER_ID","user_ip","IP","category","CITY","country","COUNTRY","controller","session_id","SESSION_ID","page","Event_SaveLogs","pipe","takeUntil","subscribe","res","error","console","log","getCities","getUKanTargetedCities","lis","data","suggestedCities","forEach","element","push","name","popActivity","check","setPageTitle","createLinkForCanonicalURL","getPageTitle","str","slice","lastIndexOf","replace","urltitle","homesugested","head","pageTitle","localStorage","getItem","categories","getResultEndPointSecond","next","complete","$","removeClass","on","addClass","$val","scrollLeft","innerWidth","scrollWidth","hide","animate","getMetaData","URL","setTitle","meta_title","updateTag","content","meta_description","content_box","forChild","InterestlistingModule"],"mappings":"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","file":"x","sourcesContent":["<div class=\"row mb-5\">\n    <div class=\"col-12\">\n        <div class=\"container mb-2\">\n            <div class=\"mt-2 mb-5 mt-4 home-wrapper-header home-wrapper-header2\">\n                <h4 class=\"header-title\" style=\"font-weight: bold;\">{{head}}</h4>\n\n                <div style=\"width: 750px; float: right;position: absolute;    left: 420px;\n                top: 78px;\">\n                    <div class=\"cata-sub-nav\">\n                        <div class=\"nav-prev arrow\" style=\"display: none; cursor: pointer;\"><img\n                                src=\"../../../assets/Website_Icons/chevron-right.svg\" alt=\"\"></div>\n\n                        <ul class=\"start\">\n                            <li *ngFor=\"let city of suggestedCities;\">\n\n                                <button (click)=\"moveToCityListing(city)\" style=\"  box-shadow: none !important; outline: none !important;\n                          border:none;\" class=\" nav-item\">{{city}}\n                                </button>\n                            </li>\n\n                        </ul>\n                        <div class=\"nav-next arrow\" style=\"cursor: pointer;\"><img\n                                src=\"../../../assets/Website_Icons/chevron-left.svg\" alt=\"\">\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n            <!-- <app-explore-more-cities></app-explore-more-cities> -->\n            <!-- <app-activity-list></app-activity-list> -->\n            <div id=\"Gridview\">\n                <!-- <h4 class=\"header-title\" style=\"font-weight: bold;font-size: 24px;margin-bottom: 30px;\"> {{activity.category}}\n                    <span style=\"cursor: pointer; text-decoration: none;\">\n                      <a (click)=\"navigateToSearchPage(activity.category)\"\n                        style=\"color: green; font-weight: normal;text-decoration: none;\">See\n                        all</a></span>\n                  </h4> -->\n                <div id='Space' class=\"row\">\n                    <!--  -->\n\n                    <div *ngFor=\"let activity of newlyAddedList\" class=\"col-lg-3 col-md-6 col-12 card-size mb-4\">\n                        <app-listingcard [activity]=\"activity\"></app-listingcard>\n                    </div>\n                </div>\n\n\n                <div *ngIf=\"check==1\" style=\"padding:10px;\">\n                    <p style=\"text-align:center; color:#7c7c7c; font-size:22px;\">\n                        Sorry, no activities of your interest <br> found.\n                    </p>\n                </div>\n\n            </div>\n\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { InterestlistingComponent } from '../interestlisting.component';\n\n\nconst routes: Routes = [\n  {\n    path: '', component: InterestlistingComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class InterestlistingRoutingModule { }\n","import { Component, OnInit, ViewChild, Renderer2, Inject } from '@angular/core';\n// import { DOCUMENT } from '@angular/common';\n\nimport { ActivityListComponent } from 'src/app/shared/activity-list/activity-list.component';\nimport { AccountService } from 'src/app/services/account/account.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { EndpointFactoryService } from 'src/app/services/endpontFactory/endpoint-factory.service';\nimport { PopularList } from 'src/app/models/popular-list';\nimport { IEventLog } from 'src/app/models/event-log';\nimport { Subject, timer } from 'rxjs';\nimport { JwtHelper } from 'src/app/services/jwtHelper/jwt-helper.service';\nimport { LoggingService } from 'src/app/services/loggingFactory/logging-service.service';\nimport { LocalStorageFactoryService } from 'src/app/services/localStorageFactory/local-storage-factory.service';\nimport { ActivityService } from 'src/app/services/activityFactory/activity.service';\nimport { DBkeys } from 'src/app/services/dbkeys/db-keys';\nimport { takeUntil } from 'rxjs/operators';\nimport { SEOService } from '../../services/SEOService/seo.service';\nimport { Title, Meta } from '@angular/platform-browser';\nimport { DOCUMENT } from '@angular/common';\ndeclare var $: any;\n@Component({\n  selector: 'app-interestlisting',\n  templateUrl: './interestlisting.component.html',\n  styleUrls: ['./interestlisting.component.css']\n})\nexport class InterestlistingComponent implements OnInit {\n\n  public newlyAddedList: PopularList[] = [];\n  public page: string;\n  public popActivity: PopularList;\n  public controller: string;\n  public loadingFlag: boolean;\n  public objIEventLog: IEventLog;\n  public urltitle: any;\n  public city: any;\n  public interest: any;\n  public pageTitle: any;\n  public check: any;\n  show = true;\n  // subject to unsubscibe from obserable\n  public unsubscribe = new Subject<void>();\n  public head: any;\n  public suggestedCities: any[];\n  public activitiesName = {\n    sports: 'Sports',\n    music: 'Music and Concerts',\n    adventure: 'Outdoor Activities',\n    family: 'Family and Kids',\n    health: 'Health and Fitness',\n    business: 'Socialization and Networking',\n    tourism: 'Sightseeing and Tourism',\n    autos: 'Books and Hobbies',\n    gaming: 'Books and Hobbies ',\n    arts: 'Arts and Performance',\n    fashion: 'Shopping and Fashion',\n    tech: 'Tech and Workshops',\n    food: 'Food and Festival',\n    politics: 'Politics',\n    charity: 'Charity and Volunteer work'\n  };\n  constructor(\n    @Inject(DOCUMENT) private doc, private srvAccountService: AccountService, private meta: Meta, private title: Title, private seoService: SEOService, private activatedroute: ActivatedRoute, private srvJwthelperService: JwtHelper, private srvLoggingService: LoggingService,\n    private srvLocalStorageFactory: LocalStorageFactoryService, private router: Router,\n    private srvActivityService: ActivityService) {\n    this.objIEventLog = new IEventLog();\n\n\n    this.popActivity = new PopularList;\n    this.check = 0;\n  }\n  ngOnInit() {\n    this.getCities();\n    this.setPageTitle('InterestListing');\n    this.createLinkForCanonicalURL();\n    this.getPageTitle();\n    // timer(3000).subscribe(x => {\n    //   this.homesugested();\n    // });\n    // console.log(this.router.url);\n    var str = this.router.url;\n    str = str.slice(str.lastIndexOf('/') + 1);\n    // console.log(str);\n    str = str.replace(/-|\\s/g, \" \");\n    str = str.replace(/and/g, \"&\");\n    // console.log(str);\n    this.urltitle = str;\n\n    this.homesugested(this.urltitle);\n    this.head = this.urltitle;\n    this.head = this.head.split('-').join(' ');\n\n\n\n\n  }\n\n  setPageTitle(title: string) {\n    this.seoService.setPageTitle(title);\n  }\n  getPageTitle() {\n    this.pageTitle = this.seoService.getPageTitle();\n  }\n  createLinkForCanonicalURL() {\n    this.seoService.createLinkForCanonicalURL();\n  }\n  async homesugested(category: any) {\n\n    var access_token = localStorage.getItem('access_token');\n\n    var city;\n    var records_per_page = 40;\n    var page_no = 1;\n    city = localStorage.getItem(\"headercity\");\n\n    if (city === null || city === undefined) {\n      city = \"San Francisco\";\n    }\n    var categories = [];\n    categories.push(category);\n    this.srvActivityService.getResultEndPointSecond(categories, city, records_per_page, page_no).subscribe(res => {\n      // console.log(res);\n      if (res['response'].data['no_of_records'] === 0 && res['response'].data['page_no'] === 1) {\n        // console.log(this.activityList.length);\n        // this.activityList.length\n\n        this.check = 1;\n      }\n      else {\n        this.newlyAddedList = res['response'].data['activities'];\n      }\n\n      // for (let z of this.newlyAddedList) {\n      //   console.log(z);\n      // }\n      // console.log(this.newlyAddedList);\n    });\n  }\n  // fuc to track user actions .\n  navigateToSearchPage = () => {\n    this.router.navigate(['/search']);\n\n  }\n\n  moveToCityListing = (city: any) => {\n    // Pittsburgh\n    city = city.split(' ').join('-');\n    this.router.navigate([this.router.url, city]);\n  }\n  addEventLog = (action) => {\n    this.objIEventLog.user_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.USER_ID);\n    this.objIEventLog.user_ip = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.IP);\n    this.objIEventLog.action = action;\n    this.objIEventLog.category = 'Button click';\n    this.objIEventLog.city = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.CITY);\n    this.objIEventLog.country = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.COUNTRY);\n    this.objIEventLog.controller = this.controller;\n    this.objIEventLog.session_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.SESSION_ID);\n    this.objIEventLog.page = this.page;\n\n    this.srvLoggingService.Event_SaveLogs(this.objIEventLog).pipe(takeUntil(this.unsubscribe)).subscribe(res => {\n\n    }, error => console.log(error));\n\n  }\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  getCities = () => {\n    this.srvAccountService.getUKanTargetedCities().pipe(takeUntil(this.unsubscribe)).subscribe(res => {\n      var lis = res['response'].data['cities'];\n\n      this.suggestedCities = [];\n      lis.forEach(element => {\n        // console.log(element.name);\n        this.suggestedCities.push(element.name);\n        // console.log(this.suggestedCities);\n      });\n\n    });\n  }\n\n  ngAfterViewInit() {\n    $('.start li button.active').removeClass('active');\n\n    // $(\"ul li button:eq(1)\").addClass(\"active\");\n\n    $('.start').on('click', '.nav-item', function () {\n\n      $('.start li button.active').removeClass('active');\n      $(this).addClass('active');\n    });\n\n\n    $(\".cata-sub-nav\").on('scroll', function () {\n      const $val = $(this).scrollLeft();\n\n      if ($(this).scrollLeft() + $(this).innerWidth() >= $(this)[0].scrollWidth) {\n        $(\".nav-next\").hide();\n      } else {\n        $(\".nav-next\").show();\n      }\n\n      if ($val == 0) {\n        $(\".nav-prev\").hide();\n      } else {\n        $(\".nav-prev\").show();\n      }\n    });\n    // console.log('init-scroll: ' + $(\".nav-next\").scrollLeft());\n    $(\".nav-next\").on(\"click\", function () {\n      $(\".cata-sub-nav\").animate({ scrollLeft: '+=120' }, 200);\n\n    });\n    $(\".nav-prev\").on(\"click\", function () {\n      $(\".cata-sub-nav\").animate({ scrollLeft: '-=120' }, 200);\n    });\n\n\n\n    var url = this.doc.URL;\n    // var url = \"https://www.youcan.tech/activities/Food-&-festival\";\n    // console.log(url);\n    this.seoService.getMetaData(url).subscribe(res => {\n      // console.log(res);\n      // console.log(res['response'].data['meta'][0].meta_description);\n      this.title.setTitle(res['response'].data['meta'][0].meta_title);\n      this.meta.updateTag({ name: 'description', content: res['response'].data['meta'][0].meta_description });\n      this.meta.updateTag({ name: 'content_box', content: res['response'].data['meta'][0].content_box });\n    });\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InterestlistingComponent } from '../interestlisting.component';\nimport { InterestlistingRoutingModule } from './interestlisting-routing.module';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n// import { ActivityListModule } from 'src/app/shared/activity-list/activity-list-module/activity-list.module';\n\nimport { ListingcardModule } from '../../../shared/listingcard/listingcard-module/listingcard.module';\n\n@NgModule({\n  declarations: [InterestlistingComponent],\n  imports: [\n    CommonModule,\n    InterestlistingRoutingModule,\n    // ActivityListModule,\n    NgbModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ListingcardModule\n  ]\n})\nexport class InterestlistingModule { }\n"]}