{"version":3,"sources":["webpack:///src/app/models/news-search-list.ts","webpack:///src/app/shared/newssearchlisting/newssearchlisting.component.html","webpack:///src/app/shared/newssearchlisting/newssearchlisting.component.ts","webpack:///src/app/components/news/news-module/news-routing.module.ts","webpack:///src/app/components/news/news.component.ts","webpack:///src/app/components/news/news.component.html","webpack:///src/app/shared/newssearchlisting/newssearchlisting-module/newssearchlisting-routing.module.ts","webpack:///src/app/shared/newssearchlisting/newssearchlisting-module/newssearchlisting.module.ts","webpack:///src/app/components/news/news-module/news.module.ts"],"names":["INewsRequestBody","NewssearchlistingComponent","router","srvJwthelperService","srvLoggingService","srvLocalStorageFactory","srvActivityService","isNeedToInitializeAgain","loading","activityList","getNews","title","cities","interests","date_from","size","offset","this","objNewsRequest","records_per_page","page_no","initializeObj","activities","getMoreActivities","moreActivities","data","getNewsListing","subscribe","res","forEach","element","push","check","objNewsRequestHold","$event","bottomReached","check1","window","innerHeight","scrollY","document","body","offsetHeight","routes","path","component","NewsComponent","seoService","meta","datepipe","activatedroute","srvAccountService","searchInputCity","searchInputInterest","searchInputInterestIndex","unsubscribe","Subject","value","highValue","tabIndex","getCities","getUKanTargetedCities","pipe","takeUntil","suggestedCities","selectedCity","city","newssearchlistingComponent","searchInputText","searchInputDates","selectedText","text","addEventLog","action","objIEventLog","user_id","getfromLocalStorage","USER_ID","user_ip","IP","category","CITY","country","COUNTRY","controller","session_id","SESSION_ID","page","Event_SaveLogs","error","console","log","dateFormateHelper","length","moment","format","shift","load","setPageTitle","createLinkForCanonicalURL","getPageTitle","change","changeCity","cityColorFlag","suggestedInterest","token","localStorage","getItem","timer","queryParams","params","date","result","Object","values","undefined","interestIndex","interest","filter","elem","index","self","indexOf","deleteMsg","list","pageTitle","removeElement","splice","next","complete","getMetaData","setTitle","meta_title","updateTag","name","content","meta_description","content_box","NewsRoutingModule","forChild","NewssearchlistingRoutingModule","NewssearchlistingModule","NewsModule","forRoot"],"mappings":"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","file":"x","sourcesContent":["export class INewsRequestBody {\n    title: string;\n    cities: string[][];\n    records_per_page: number;\n    page_no: number;\n\n}","<section>\n\n    <div class=\"col-12 search-result mt-2 mb-5\">\n        <div class=row>\n            <!-- | slice:0:totalnumber; let i = index -->\n            <div *ngFor=\"let activity of activityList \" class=\"col-lg-3 col-md-6 col-12 card-size siz\" style=\"\">\n                <!-- <app-newscard [activity]=\"activity\"></app-newscard> -->\n\n                <div *ngIf=\"activity.picture != null\">\n\n                    <app-newscard [news]=\"activity\"></app-newscard>\n                </div>\n\n                <div *ngIf=\"activity.picture === null\">\n                    <app-newscardwithoutimg [news]=\"activity\"></app-newscardwithoutimg>\n                </div>\n\n            </div>\n        </div>\n    </div>\n\n\n    <div id=\"Space\">\n    </div>\n    <div class=\"alone\">\n        <div id=\"circularG\" *ngIf=\"loading==1\">\n            <div id=\"circularG_1\" class=\"circularG\"></div>\n            <div id=\"circularG_2\" class=\"circularG\"></div>\n            <div id=\"circularG_3\" class=\"circularG\"></div>\n            <div id=\"circularG_4\" class=\"circularG\"></div>\n            <div id=\"circularG_5\" class=\"circularG\"></div>\n            <div id=\"circularG_6\" class=\"circularG\"></div>\n            <div id=\"circularG_7\" class=\"circularG\"></div>\n            <div id=\"circularG_8\" class=\"circularG\"></div>\n            <!-- <p style=\"position: relative; top: 52px; color: green;\" class=\"loading1\">Loading</p> -->\n            <div style=\"position: relative; top: 62px;font-weight: bold; color: #466ce4;\" class=\"loader\">Loading<span\n                    class=\"loader__dot\">.</span><span class=\"loader__dot\">.</span><span class=\"loader__dot\">.</span>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"container col-12\" style=\"background: #EFF1F7\">\n        <!-- <div class=\"row d-flex justify-content-center align-items-center\" *ngIf=\"loading==0 && check==0\">\n        <button class=\"btn btn-primary show-more \" (click)=\"getMoreActivities()\">\n          Load more\n        </button>\n      </div> -->\n\n        <div *ngIf=\"check==1\" style=\"padding:100px;\">\n            <p style=\"text-align:center; color:#7c7c7c; font-size:22px;\">\n                No news to show\n            </p>\n        </div>\n\n    </div>\n</section>","import { Component, OnInit, AfterViewInit, HostListener, Inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { JwtHelper } from 'src/app/services/jwtHelper/jwt-helper.service';\nimport { LocalStorageFactoryService } from 'src/app/services/localStorageFactory/local-storage-factory.service';\nimport { LoggingService } from 'src/app/services/loggingFactory/logging-service.service';\nimport { ActivityService } from 'src/app/services/activityFactory/activity.service';\nimport { IActivityRequestBody } from 'src/app/models/api-request-model/acitvity-list';\nimport { INewsRequestBody } from 'src/app/models/news-search-list'\nimport * as moment from 'moment';\nimport { PopularActivity } from 'src/app/models/popular-activity';\nimport { empty, timer, from } from 'rxjs';\nimport { time } from 'console';\nimport { NewsList } from 'src/app/models/news-list';\n@Component({\n  selector: 'app-newssearchlisting',\n  templateUrl: './newssearchlisting.component.html',\n  styleUrls: ['./newssearchlisting.component.css']\n})\nexport class NewssearchlistingComponent implements OnInit {\n\n  @HostListener('window:scroll', ['$event'])\n  onWindowScroll($event) {\n    if (this.bottomReached()) {\n      this.getMoreActivities();\n    }\n  }\n  // ..props....\n  public objNewsRequest: INewsRequestBody;\n  public isNeedToInitializeAgain: boolean = true;// decison maker ,help weather to initialize objActivityRequestHold again or not\n  // this prop objActivityRequestHold will hold request boy came from  any componet ,untill user is on search page ,it will help if user want \n  // to load more activities \n  public objNewsRequestHold: INewsRequestBody;\n  public object: any;\n  public loading: number = 0;\n  public totalActivities: any;\n  public check: any;\n  public totalnumber: any;\n  public previous: any;\n  public activityList: PopularActivity[] = [];\n  public listOfActivities: PopularActivity;\n  public check1: any;\n  constructor(private router: Router, private srvJwthelperService: JwtHelper,\n    private srvLoggingService: LoggingService, private srvLocalStorageFactory: LocalStorageFactoryService,\n    private srvActivityService: ActivityService,) {\n    this.objNewsRequest = new INewsRequestBody();\n    this.objNewsRequestHold = new INewsRequestBody();\n\n  }\n\n  ngOnInit() {\n\n    if (this.objNewsRequest.cities === null) {\n      this.check1 = 1;\n      this.loading = 0;\n    }\n\n  }\n\n\n  getNews = (title: any, cities: any, interests: any, date_from: any, size: any, offset: any) => {\n\n\n    this.loading = 1;\n\n    this.objNewsRequest.cities = [cities];\n\n    this.objNewsRequest.title = title;\n    this.objNewsRequest.records_per_page = size;\n    this.objNewsRequest.page_no = offset;\n    this.isNeedToInitializeAgain = true;\n    // this is just for ,if we get route parameters ,get data on base of these pramaters next if want to load more ,so we\n    // hold that object for little time ,to click more button get more and change some parameters like size and  offset\n    // \n    if (this.isNeedToInitializeAgain) {\n      this.initializeObj(this.objNewsRequest)\n    }\n    this.isNeedToInitializeAgain = false;\n    // console.log(this.objActivityRequest, \"check date\");\n    this.activities(this.objNewsRequest);\n  }\n\n  // load more activities \n  getMoreActivities = () => {\n    this.objNewsRequest.page_no = this.objNewsRequest.page_no + 1;\n    this.moreActivities(this.objNewsRequest);\n\n  }\n\n  bottomReached(): boolean {\n    return (window.innerHeight + window.scrollY) >= document.body.offsetHeight;\n  }\n  // get more activities add with current\n  moreActivities = (data: INewsRequestBody) => {\n\n    var city = data.cities;\n    var interest = \"\";\n    var records_per_page = 20;\n\n    var text = data.title;\n    var page_no = data.page_no;\n    this.srvActivityService.getNewsListing(records_per_page, text, city, page_no).subscribe(res => {\n      // console.log(res);\n      if (res['response'].data['no_of_records'] === 0) {\n        // this.check = 1;\n        this.loading = 0;\n      }\n      else {\n        res['response'].data['news_data'].forEach(element => {\n          this.activityList.push(element);\n\n        });\n      }\n    });\n  }\n\n  // get activities \n  activities = (data: INewsRequestBody) => {\n\n    this.loading = 1;\n    this.check = 0;\n    this.activityList = null;\n    // console.log(data.cities);\n    var city = data.cities;\n    // console.log(city);\n    var interest = \"\";\n    var records_per_page = 20;\n    var page_no = data.page_no;\n    var text = data.title;\n    this.srvActivityService.getNewsListing(records_per_page, text, city, page_no).subscribe(res => {\n\n\n      if (res['response'].data['no_of_records'] === 0 && res['response'].data['page_no'] === 1) {\n        this.activityList = null;\n        this.loading = 0;\n        this.check = 1;\n        // console.log(\" i am in\");\n\n      }\n      else {\n        this.activityList = res['response'].data['news_data'];\n\n        this.loading = 0;\n        // this.window['prerenderReady'] = true;\n      }\n\n\n\n    });\n\n\n  }\n  // fuc initialize object\n  initializeObj = (data: INewsRequestBody) => {\n\n    this.objNewsRequestHold.cities = data.cities;\n    // data.date_from.forEach(element => {\n    //   this.objActivityRequestHold.date_from.push(element);\n    // });\n    // this.objActivityRequestHold.date_from = data.date_from;\n    // this.objActivityRequestHold.interests = data.interests;\n    this.objNewsRequestHold.title = data.title;\n    this.objNewsRequestHold.records_per_page = data.records_per_page;\n    this.objNewsRequestHold.page_no = data.page_no;\n  }\n  ngAfterViewInit(): void {\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NewsComponent } from '../news.component';\n\nconst routes: Routes = [\n  {\n    path: '', component: NewsComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NewsRoutingModule { }\n","import { Component, OnInit, OnDestroy, ViewChild, AfterContentChecked, AfterViewInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IEventLog } from 'src/app/models/event-log';\nimport { Subject, timer } from 'rxjs';\nimport * as moment from 'moment';\nimport { fnSuggestedInterest } from 'src/app/utilities/helper';\nimport { AccountService } from 'src/app/services/account/account.service';\nimport { takeUntil } from 'rxjs/operators';\nimport { LoggingService } from 'src/app/services/loggingFactory/logging-service.service';\nimport { LocalStorageFactoryService } from 'src/app/services/localStorageFactory/local-storage-factory.service';\nimport { DBkeys } from 'src/app/services/dbkeys/db-keys';\nimport { NewssearchlistingComponent } from 'src/app/shared/newssearchlisting/newssearchlisting.component';\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\nimport { DateComponent } from 'src/app/shared/date/date.component';\n// import { Options } from 'ng5-slider';\nimport { ActivityService } from 'src/app/services/activityFactory/activity.service';\nimport { DatePipe } from '@angular/common';\nimport { Title, Meta } from '@angular/platform-browser';\nimport { SEOService } from '../../services/SEOService/seo.service';\n\n@Component({\n  selector: 'app-news',\n  templateUrl: './news.component.html',\n  styleUrls: ['./news.component.css']\n})\nexport class NewsComponent implements OnInit {\n\n  // props ....\n  public searchInputText: string;\n  public load: any;\n  public searchInputDates: any;\n  public searchInputDate: any;\n  public searchInputCity: any = [];\n  public searchInputInterest: any[] = [];\n  public searchInputInterestIndex: any[] = [];\n  public suggestedInterest: any;\n  public page: string;\n  public controller: string;\n  public suggestedCities: any;\n  public objIEventLog: IEventLog;\n  public list: any;\n  public pageTitle: any;\n  public cityColorFlag: boolean; // pass as a input to suggestedCities component to take decision and change color\n  // subject to unsubscibe from obserable\n\n  public unsubscribe = new Subject<void>();\n  // all props for ng5Slider\n  value: number = 40;\n  highValue: number = 60;\n  // options: Options = {\n  //   floor: 0,\n  //   ceil: 100\n  // };\n  // .... ng5 silder  \n\n  constructor(private seoService: SEOService, private meta: Meta, private title: Title, public datepipe: DatePipe, private activatedroute: ActivatedRoute, public router: Router, private srvAccountService: AccountService,\n    private srvLoggingService: LoggingService, private srvLocalStorageFactory: LocalStorageFactoryService,\n    private srvActivityService: ActivityService,) {\n    this.objIEventLog = new IEventLog();\n    this.load = 2;\n  }\n  // to acess child component prop,methods\n  @ViewChild(NewssearchlistingComponent, { static: true })\n  newssearchlistingComponent: NewssearchlistingComponent\n  @ViewChild(DateComponent, { static: true })\n  dateComponent: DateComponent\n\n  ngOnInit() {\n\n    // console.log(\"news in\");\n    this.setPageTitle('searchlisting');\n    this.createLinkForCanonicalURL();\n    this.getPageTitle();\n\n\n\n    this.load = 2;\n    // here we communicating through services getting title text from header component search\n    this.srvActivityService.change.subscribe(title => {\n      this.searchInputText = title;\n      this.selectedText(title);\n    });\n\n    this.srvActivityService.changeCity.subscribe(city => {\n      this.searchInputCity = city;\n      this.selectedCity(city);\n    });\n    // if no interest we push default to show on view\n    if (this.searchInputInterest.length == 0) {\n      // this.searchInputInterest.push(\"Interest\");\n      //  this.searchInputInterest.push(\"other\");// default interest\n    }\n    this.cityColorFlag = true;\n    this.suggestedInterest = fnSuggestedInterest(); // return list helper fuc\n    // call to getCities fuc to get cities\n    this.getCities();\n    // receving data from home component\n    this.searchInputInterestIndex = [];\n    this.searchInputInterest = [];\n\n    // console.log(this.activityListComponent);\n\n    var token = localStorage.getItem(\"access_token\");\n    if (token === null || token === undefined) {\n      timer(5000).subscribe(res => {\n\n        this.activatedroute.queryParams.subscribe(params => {\n\n          if (params.date != null) {\n            var result = Object.values(params.date); // date is an object, we want to extract values form object \n            this.searchInputDates = result;\n          } else {\n            this.searchInputDates = null;\n          }\n          if (params.city == \"\" || params.city == undefined) {\n            this.searchInputCity = \"\";\n          } else {\n            this.searchInputCity = params.city;\n          }\n\n          // console.log(params.interest, \"res\");\n          if (params.interestIndex != null && params.interest != \"Interest\") {\n            this.searchInputInterestIndex = Object.values(params.interestIndex);\n            this.searchInputInterest = Object.values(params.interest);\n            // console.log(this.searchInputInterestIndex, \"11\");\n          } else {\n            this.searchInputInterest = Object.values(this.searchInputInterest);\n            this.searchInputInterestIndex = Object.values(this.searchInputInterestIndex);\n            // console.log(this.searchInputInterestIndex, \"111\");\n          }\n          this.searchInputText = params.title;\n\n          // if not date then select current date\n          if (this.searchInputDates != null) {\n            this.dateFormateHelper();\n          }\n          this.searchInputInterest = this.searchInputInterest.filter(function (elem, index, self) {\n            return index === self.indexOf(elem);\n          });\n          // call to getActivities in activityListCompoennt\n          // console.log(this.searchInputInterestIndex, \"1\");\n\n\n          this.newssearchlistingComponent.getNews(this.searchInputText, this.searchInputCity, this.searchInputInterestIndex,\n            this.searchInputDates, 20, 1);\n\n\n        });\n      });\n    }\n    else {\n      this.activatedroute.queryParams.subscribe(params => {\n\n        if (params.date != null) {\n          var result = Object.values(params.date); // date is an object, we want to extract values form object \n          this.searchInputDates = result;\n        } else {\n          this.searchInputDates = null;\n        }\n        if (params.city == \"\" || params.city == undefined) {\n          this.searchInputCity = \"\";\n        } else {\n          this.searchInputCity = params.city;\n        }\n\n        // console.log(params.interest, \"res\");\n        if (params.interestIndex != null && params.interest != \"Interest\") {\n          this.searchInputInterestIndex = Object.values(params.interestIndex);\n          this.searchInputInterest = Object.values(params.interest);\n          // console.log(this.searchInputInterestIndex, \"11\");\n        } else {\n          this.searchInputInterest = Object.values(this.searchInputInterest);\n          this.searchInputInterestIndex = Object.values(this.searchInputInterestIndex);\n          // console.log(this.searchInputInterestIndex, \"111\");\n        }\n        this.searchInputText = params.title;\n\n        // if not date then select current date\n        if (this.searchInputDates != null) {\n          this.dateFormateHelper();\n        }\n        this.searchInputInterest = this.searchInputInterest.filter(function (elem, index, self) {\n          return index === self.indexOf(elem);\n        });\n        // call to getActivities in activityListCompoennt\n        // console.log(this.searchInputInterestIndex, \"1\");\n\n\n        this.newssearchlistingComponent.getNews(this.searchInputText, this.searchInputCity, this.searchInputInterestIndex,\n          this.searchInputDates, 20, 1);\n\n\n      });\n    }\n\n    this.deleteMsg(\"Interest\");\n\n\n\n    this.list = [\"Music & Concerts\", \"Family & Kids\", \"Health & Fitness\", \"Sightseeing & Tourism\", \"Arts & Performance\", \"Shopping & Fashion\", \"Books & hobbies\", \"Tech & workshops\", \"Food & festival\", \"Outdoor Activities\", \"Charity and Volunteer work\", \"Socialization & Networking\", \"Sports\", \"Politics\", \"Others\"];\n    // console.log(this.suggestedInterest);\n    // console.log(this.list);\n\n\n  }\n  public tabIndex = 0;\n  onTabClick(index) {\n    this.tabIndex = index;\n  }\n\n\n  setPageTitle(title: string) {\n    this.seoService.setPageTitle(title);\n  }\n  getPageTitle() {\n    this.pageTitle = this.seoService.getPageTitle();\n  }\n  createLinkForCanonicalURL() {\n    this.seoService.createLinkForCanonicalURL();\n  }\n\n\n  deleteMsg(removeElement: string) {\n    const index: number = this.searchInputInterest.indexOf(removeElement);\n    if (index !== -1) {\n      this.searchInputInterest.splice(index, 1);\n    }\n  }\n  // fuc get cities from backend\n  getCities = () => {\n    this.srvAccountService.getUKanTargetedCities().pipe(takeUntil(this.unsubscribe)).subscribe(res => {\n      this.suggestedCities = res['response'].data['cities'];\n    });\n  }\n\n  // fuc to select from suggested interest category \n\n  // user choice city fnc ....\n  selectedCity = (city: any) => {\n    this.searchInputCity = city;\n    // console.log(city)\n    // let cities = [];\n    // cities.push(this.searchInputCity);\n    this.newssearchlistingComponent.getNews(this.searchInputText, this.searchInputCity, this.searchInputInterestIndex,\n      this.searchInputDates, 20, 1);\n  }\n  // typed text search\n  selectedText = (text: any) => {\n    // let cities = [];\n    // cities.push(this.searchInputCity);\n    this.newssearchlistingComponent.getNews(text, this.searchInputCity, this.searchInputInterestIndex,\n      this.searchInputDates, 20, 1);\n  }\n  // select date \n\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n  // fuc to track user actions \n  addEventLog = (action) => {\n    this.objIEventLog.user_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.USER_ID);\n    this.objIEventLog.user_ip = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.IP);\n    this.objIEventLog.action = action;\n    this.objIEventLog.category = 'click select';\n    this.objIEventLog.city = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.CITY);\n    this.objIEventLog.country = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.COUNTRY);\n    this.objIEventLog.controller = this.controller;\n    this.objIEventLog.session_id = this.srvLocalStorageFactory.getfromLocalStorage(DBkeys.SESSION_ID);\n    this.objIEventLog.page = this.page + 'search';\n\n\n    this.srvLoggingService.Event_SaveLogs(this.objIEventLog).pipe(takeUntil(this.unsubscribe)).subscribe(res => {\n\n    }, error => console.log(error));\n\n  }\n  // date formate helper\n  dateFormateHelper = () => {\n    if (this.searchInputDates.length != 0) {\n\n      // this.searchInputDate = moment(this.searchInputDate).format(\"DD MMM\");\n      this.searchInputDates.forEach(element => {\n        this.searchInputDates.push(moment(element).format(\"YYYY-MM-DD\"));\n      });\n      this.searchInputDates.shift();\n      this.searchInputDates.shift();\n    } else {\n      // this.searchInputDate = moment(new Date()).format(\"DD MMM\");\n    }\n\n  }\n\n\n\n  // aaaaaa\n\n\n  ngAfterViewInit() {\n    // var url = this.doc.URL;\n    var url = \"https://www.youcan.tech/search\";\n    // console.log(url);\n    this.seoService.getMetaData(url).subscribe(res => {\n      // console.log(res);\n      // console.log(res['response'].data['meta'][0].meta_description);\n      this.title.setTitle(res['response'].data['meta'][0].meta_title);\n      this.meta.updateTag({ name: 'description', content: res['response'].data['meta'][0].meta_description });\n      this.meta.updateTag({ name: 'content_box', content: res['response'].data['meta'][0].content_box });\n    });\n  }\n\n}\n","<div class=\"row bg\" style=\"overflow-x: hidden;\">\n  <div class=\"col-1  d-md-block left-side-interest-bar mb-3 mx-auto\" style=\"margin-left: 0px !important;\">\n    <div class=\"row \">\n      <app-sider-bar>\n\n      </app-sider-bar>\n    </div>\n  </div>\n\n  <div class=\"col-lg-11  col-sm-12 col-md-10 s-section-left mx-auto \" style=\"\">\n    <div class=\"row\">\n      <div class=\"col-12 filter-by\" style=\"\">\n        <div>\n          <span class=\"eventsfor\" style=\"font-family: BreeSerif-Regular;\">Local news</span>\n          <ul class=\"filter-list-group\">\n\n\n          </ul>\n\n        </div>\n      </div>\n      <div class=\"col-12 check\" style=\"\">\n        <app-newssearchlisting></app-newssearchlisting>\n      </div>\n    </div>\n  </div>\n  <!-- </div> -->\n  <!-- </div> -->\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NewssearchlistingRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NewssearchlistingRoutingModule } from './newssearchlisting-routing.module';\nimport { NewssearchlistingComponent } from '../newssearchlisting.component';\nimport { NewscardModule } from '../../newscard/newscard-module/newscard.module';\nimport { NewscardwithoutimgModule } from '../../newscardwithoutimg/newscardwithoutimg-module/newscardwithoutimg.module';\n@NgModule({\n  declarations: [NewssearchlistingComponent],\n  imports: [\n    CommonModule,\n    NewssearchlistingRoutingModule,\n    NewscardModule,\n    NewscardwithoutimgModule\n  ]\n  ,\n  exports: [NewssearchlistingComponent]\n})\nexport class NewssearchlistingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NewsRoutingModule } from './news-routing.module';\nimport { NewsComponent } from '../news.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DateModule } from 'src/app/shared/date/date/date.module';\nimport { NewssearchlistingModule } from 'src/app/shared/newssearchlisting/newssearchlisting-module/newssearchlisting.module';\n\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\nimport { SideBarModule } from '../../../shared/sider-bar/side-bar-module/side-bar.module'\nimport { from } from 'rxjs';\nimport { CarouselModule } from 'ngx-bootstrap/carousel';\n\n@NgModule({\n  declarations: [NewsComponent],\n  imports: [\n    CommonModule,\n    NewsRoutingModule,\n    CarouselModule,\n    NgbModule,\n    FormsModule,\n    ReactiveFormsModule,\n    DateModule,\n\n    NewssearchlistingModule,\n    BsDatepickerModule.forRoot(),\n    SideBarModule\n  ]\n})\nexport class NewsModule { }\n"]}